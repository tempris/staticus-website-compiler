<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="en" name="language">
	<title>GraphicsMagick ChangeLog - 2003</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link media="screen" href="docutils-articles.css" type="text/css" rel="stylesheet">

</head>

<body>

<div class="banner">
<img src="images/gm-107x76.png" alt="GraphicMagick logo" width="107" height="76" />
<span class="title">GraphicsMagick</span>
<form action="http://www.google.com/search">
  <input type="hidden" name="domains" value="www.graphicsmagick.org" />
  <input type="hidden" name="sitesearch" value="www.graphicsmagick.org" />
<span class="nowrap"><input type="text" name="q" size="25" maxlength="255" />&nbsp;<input type="submit" name="sa" value="Search" /></span>
</form>
</div>


<div class="navmenu">
<ul>
  <li><a href="index.html">Home</a></li>
  <li><a href="project.html">Project</a></li>
  <li><a href="download.html">Download</a></li>
  <li><a href="README.html">Install</a></li>
  <li><a href="Hg.html">Source</a></li>
  <li><a href="NEWS.html">News</a> </li>
  <li><a href="utilities.html">Utilities</a></li>
  <li><a href="programming.html">Programming</a></li>
  <li><a href="reference.html">Reference</a></li>
</ul>
</div>

<main id="graphicsmagick-changelog-2003">
<h1 class="title">GraphicsMagick ChangeLog - 2003</h1>
<p>2003-12-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/annotate.c (RenderFreetype): Ensure that image storage
class is set to DirectClass. Text rendering was not working
properly on top of PseudoClass images.</p></li>
<li><p>magick/map.c (MagickMapRemoveEntry): Logic didn't properly
handle removing entry in list.</p></li>
<li><p>configure.ac: Added --enable-efence option to enable memory
debugging using Electric Fence.</p></li>
</ul>
</blockquote>
<p>2003-12-27  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>tests/maptest.c (main): Extended test to add an entry to the
list after an entry has already been removed.</p></li>
<li><p>magick/image.c (ColorspaceTypeToString): Add support for LAB
colorspace.</p></li>
<li><p>magick/map.c: Added signature members to all structures and
added assertions to ensure that the signature == MagickSignature
prior to use. MagickMapAllocateObject now initializes the object
reference count to one, and MagickMapDestroyObject decrements it
in order to be more correct even though the object reference count
is not actually used yet.
(MagickMapCopyString): Preserve a null argument, and use
AcquireString since it doesn't enlarge the string storage.
(MagickMapCopyBlob): Preserve null blobs.</p></li>
<li><p>configure.ac: Search for the shmctl() function.  Under current
Cygwin, this is hiding in -lcygipc.</p></li>
</ul>
</blockquote>
<p>2003-12-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/composite.c: Fixed the composite operator list in the
CompositeImage documentation.</p></li>
<li><p>www/api/types.html: Corrected list of composition
operators. Sometime prior to the creation of GraphicsMagick, the
&quot;Replace&quot; composite operators were renamed to be &quot;Copy&quot; composite
operators.  Thanks to David Relson for bringing this problem to
our attention.</p></li>
<li><p>PerlMagick/Magick.xs: Added &quot;LAB&quot; to colorspace types.</p></li>
<li><p>magick/image.h (enum ColorSpace): Add LABColorspace enumeration.</p></li>
<li><p>wand/magick_wand.h : Add some compatibility definitions to
translate from ImageMagick enumerations to existing GraphicsMagick
enumerations.</p></li>
</ul>
</blockquote>
<p>2003-12-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/annotate.c: Use header synonyms defined by FreeType's
ftheader.h (included via &lt;ft2build.h&gt;) to include FreeType headers.
This will presumably be more portable in the future.</p></li>
<li><p>configure.ac: &lt;ft2build.h&gt; is an optional prerequisite for
&lt;freetype/freetype.h&gt; and &lt;libwmf/ipa.h&gt; so include it when
testing for these headers.</p></li>
<li><p>magick/annotate.c: Include &lt;ft2build.h&gt; if it is available.</p></li>
</ul>
</blockquote>
<p>2003-12-21  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>wand/wandtest.c: Ported from latest ImageMagick version.</p></li>
<li><p>wand/drawing_wand.c: Adapted to be compatible with latest
ImageMagick version.</p></li>
<li><p>wand/pixel_wand.c: Adapted to be compatible with latest
ImageMagick version.</p></li>
<li><p>wand/magick_wand.c: Ported from latest ImageMagick version.</p></li>
<li><p>magick/image.h (Image): Members color_profile, iptc_profile,
generic_profile, and generic_profiles are now deprecated and
private although they continue to work as before. Please migrate
existing code to use the GetImageProfile and SetImageProfile
functions since these members will eventually be removed.</p></li>
<li><p>magick/image.c (GetImageProfile): New function to retrieve an
image profile. Return value differs from similarly named
ImageMagick method since the ImageMagick approach assumes a
particular storage method.
(SetImageProfile): New function to add (or remove) an image
profile. Does not execute CMS color profiles.</p></li>
<li><p>magick/cache.c (SetImageVirtualPixelMethod): Return unsigned int to
make the Wand implementation happy.</p></li>
<li><p>magick/image.c (TransformColorspace): Return unsigned int to
make the Wand implementation happy.
(SetImageType): Return unsigned int to make the Wand
implementation happy.</p></li>
<li><p>magick/draw.h, magick/draw.c: Substitute <cite>unsigned long</cite> in
place of <cite>size_t</cite> in interfaces so that the draw API is not
sensitive to the definition of _LP64.</p></li>
<li><p>locale/C.mgk: Added new messages required by Wand library.</p></li>
<li><p>magick/error.c (ExceptionSeverityToTag): Add tag translations
for the WandWarning, WandError, &amp; WandFatalError enumerations</p></li>
<li><p>magick/error.h (enum ExceptionType): Add WandWarning, WandError,
&amp; WandFatalError enumerations to ExceptionType for ImageMagick
API compatibility.</p></li>
<li><p>magick/image.h (enum ChannelType): Add an <cite>AllChannels</cite>
enumeration to the ChannelType enumeration for ImageMagick
API compatibility.</p></li>
</ul>
</blockquote>
<p>2003-12-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick, tests: Adjusted allowed error values for tests based
on new error computation arithmatic.  Some tests were left failing
since the operation they test provides results which are
unreasonably inaccurate, or obviously broken.</p></li>
</ul>
</blockquote>
<p>2003-12-17  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jpeg.c: Changed &quot;JPEG:preserve-settings from a key/value
pair to a simple flag.  Save and restore attributes when
&quot;-define JPEG:preserve-settings&quot; appears on the commandline.  Use
&quot;+define JPEG:preserve-settings&quot; to unset the flag.</p></li>
</ul>
</blockquote>
<p>2003-12-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/wmf.c: Include &lt;ft2build.h&gt; if it is available since some
libwmf installs don't work unless it is included before the libwmf
API headers.</p></li>
<li><p>configure.ac: Check for &lt;ft2build.h&gt;.</p></li>
</ul>
</blockquote>
<p>2003-12-16  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jpeg.c: Changed stored jpeg quality attribute from
[jpeg-quality] to JPEG-Quality.  Added attributes JPEG-Colorspace
and JPEG-Sampling-factors.  Added code to save and restore
these attributes when &quot;-define JPEG:preserve-settings=yes&quot; is
present in the comandline.  Quality is restored if the input
was a JPEG and the quality was preserved.  Sampling factors
are restored if the input was a JPEG, sampling factors were
preserved, and the colorspace for the output file is the same
as that of the input file.</p></li>
</ul>
</blockquote>
<p>2003-12-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>TclMagick/source/configure.ac: Add an initial TclMagick
configure-based build environment based on a template and macros
from the Tcl project.  I recall that while the extension does build,
it is possible that it is not properly registered as a module to Tcl.</p></li>
</ul>
</blockquote>
<p>2003-12-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (IsImagesEqual): Properly compute error distance
vectors. Math was missing the necessary sqrt call.  Also,
pre-normalize the error differences to 1.0 in order to reduce the
storage size required to store the summation of error values.</p></li>
<li><p>PerlMagick/t/composite.t: Update Minus and Xor reference images.</p></li>
<li><p>magick/composite.c (CompositeImage): Incorporated fixes from
ImageMagick for XorCompositeOp, PlusCompositeOp, and
MinusCompositeOp.  Thanks to John Cristy for bringing the need for
these fixes to our attention.</p></li>
<li><p>magick/image.h (RoundToQuantum): Added missing parenthesis.</p></li>
</ul>
</blockquote>
<p>2003-12-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>doc/environment.imdoc: Document MAGICK_CODER_MODULE_PATH and
MAGICK_FILTER_MODULE_PATH.</p></li>
<li><p>rungm.sh.in: Pass MAGICK_CODER_MODULE_PATH and
MAGICK_FILTER_MODULE_PATH in the environment so modules build may
be tested without first being installed.</p></li>
<li><p>magick/module.c (FindMagickModule): Use the
MAGICK_CODER_MODULE_PATH environment variable to specify a search
path for coder modules.  Use MAGICK_FILTER_MODULE_PATH to specify
a search path for filter modules.</p></li>
<li><p>Makefile.am: Updated to Automake 1.8.
(install-exec-perl): Fixes which achieve a successful
<cite>make distcheck</cite> for the first time in *Magick history.</p></li>
<li><p>configure.ac: Set scripts to executable.</p></li>
</ul>
</blockquote>
<p>2003-12-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Makefile.am (uninstall-data-html): Pathnames were computed
incorrectly so documentation directories were being left behind.</p></li>
<li><p>configure.ac: --without-frozenpaths is now the default.  This
helps <cite>make distcheck</cite> work and makes the package more portable.
Path to gm was being incorrectly frozen when --without-frozenpaths
was specified.</p></li>
<li><p>magick/delegate.c (ReadConfigureFile): Validate delegate paths
prior to substitution.</p></li>
<li><p>rungm.sh.in (top_builddir): Use a more reliable scheme for
computing location of source and build directories.</p></li>
<li><p>magick/Makefile.am: Improve include directory computation logic.</p></li>
<li><p>configure.ac: Don't override includedir.  Pass user-supplied LIBS
to the linker.</p></li>
</ul>
</blockquote>
<p>2003-12-08  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jpeg.c: store JPEG quality as &quot;[jpeg_quality]&quot; attribute.</p></li>
</ul>
</blockquote>
<p>2003-12-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>rungm.sh.in: New script to support executing uninstalled
executables.</p></li>
<li><p>magick/blob.c (GetConfigureBlob): New MAGICK_CONFIGURE_PATH
environment variable allows the user to specify the search path
for configuration (.mgk) files.</p></li>
</ul>
</blockquote>
<p>2003-12-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>index.html: Added a table showing current stable release and
development version.</p></li>
</ul>
</blockquote>
<p>2003-12-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>doc/options.imdoc (use): Describe the syntax of the -process
argument.</p></li>
<li><p>acinclude.m4 (AC_CHECK_CC_OPT): Add quoting in AC_CHECK_CC_OPT
definition.  Change suggested by Patrick Welche</p></li>
</ul>
</blockquote>
<p>2003-12-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/magick.c (GetMagickInfo): Fix preprocessing logic error
which caused moby shared library build to not register static
modules.</p></li>
</ul>
</blockquote>
<p>2003-12-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/module.c (ExecuteModuleProcess): Add some logging.</p></li>
<li><p>magick/static.c (ExecuteStaticModuleProcess): Add some logging.</p></li>
</ul>
</blockquote>
<p>2003-11-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagick/installer: Add optional build support for LZW.</p></li>
<li><p>wand/Makefile.am: Add AUTOMAKE_OPTIONS.</p></li>
<li><p>configure.ac: Update to Autoconf 2.59.</p></li>
</ul>
</blockquote>
<p>2003-11-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagick/installer/inc/tasks-install-perlmagick.isx: Update
to reflect that the next release will use ActivePerl 5.8.1 Build
807.</p></li>
<li><p>VisualMagick/installer/inc/files-configs.isx: Updated the source
locations for the .mgk files.  Install modules.mgk into the config
directory rather than the modules directory.</p></li>
<li><p>configure.ac: Fixes to work with latest CVS libtool.</p></li>
<li><p>libtool.m4: Update to latest CVS libtool.</p></li>
<li><p>magick/modules.c, magick/static.c (ExecuteStaticModuleProcess):
Fix conditional compilation logic so that &quot;moby&quot; shared library
build works again.</p></li>
<li><p>magick/compress.c, magick/mac.c: Use existing SaveImageText and
LoadImageText global constants rather than separate defines.</p></li>
</ul>
</blockquote>
<p>2003-11-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Update to Autoconf 2.58.</p></li>
<li><p>Makefile.am: Update to Automake 1.7.9.</p></li>
</ul>
</blockquote>
<p>2003-11-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/draw.c (DrawComposite): Base64-encoded image was not
being deallocated. Bad memory leak.</p></li>
</ul>
</blockquote>
<p>2003-11-03  Mike Chiarappa  &lt;<a class="reference external" href="mailto:mikechiarappa&#37;&#52;&#48;libero&#46;it">mikechiarappa<span>&#64;</span>libero<span>&#46;</span>it</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>BCBMagick: Updated installation procedure. Please read
BCBMagick/readme.txt for details.</p></li>
</ul>
</blockquote>
<p>2003-11-03  Mike Chiarappa  &lt;<a class="reference external" href="mailto:mikechiarappa&#37;&#52;&#48;libero&#46;it">mikechiarappa<span>&#64;</span>libero<span>&#46;</span>it</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>BCBMagick: Released DLL Version. Please read BCBMagick/readme.txt
for details about installation and/or use.</p></li>
</ul>
</blockquote>
<p>2003-11-03  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/utility.c (GetPathComponent): Added x, X, and +
characters to list of legal characters in subimage
specifications. Required by raw RGB image reader which accepts the
syntax &quot;image.rgb[100x100+50+50]&quot;. Thanks to John Cristy for
catching that one.</p></li>
</ul>
</blockquote>
<p>2003-11-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/locale.c (GetLocaleMessageFromID): Fix ID range checking
logic.</p></li>
</ul>
</blockquote>
<p>2003-10-30  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jpeg.c: changed to not write gray CMYK images as
grayscales. That would not be a valid optimization.</p></li>
<li><p>magick/color.c (IsGrayImage, IsMonochromeImage): Changed to
never return true for CMYK images. Separated images get wrong
colors when optimized to grayscales based on what these two
functions return. Gray and CMYK are two different color spaces.</p></li>
<li><p>magick/nt_feature.c (NTIsMagickConflict): changed to accept
colon as part of the magick string, consistent with the way the
function is used.</p></li>
<li><p>magick/utility.c, magick/utility.h (ExpandFilenames,
GetPathComponent): Fixed filename glob expansion. Added handling
of filename prefix-magick and sub-image specification to
GetPathComponent. Sub-image specification takes precedence over
any filename patterns.</p></li>
</ul>
</blockquote>
<p>2003-10-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/static.c (ExecuteModuleProcess): Renamed from
ExecuteStaticModuleProcess. Only compiled if SupportMagickModules
is not defined.</p></li>
<li><p>magick/type.c (GetTypeBlob): Eliminated function.
(ReadTypeConfigureFile): Use GetConfigureBlob() rather than
GetTypeBlob().</p></li>
<li><p>magick/module.c (GetModuleBlob): Eliminate this function since
modules.mgk is now installed under
${prefix}/share/GraphicsMagick-version/config so
GetConfigureBlob() may be used.
(lt_dlexit, etc.) Eliminate fake libltdl function wrappers used
for the static build.
(DestroyMagickModules): Added a new destroy function (simply
invokes DestroyModuleInfo()).
(GetModuleList): Learn where modules live by using
FindMagickModule() to locate the LOGO module rather than by using
the location of modules.mgk.  This is necessary since now
modules.mgk may be seperate from the modules.
(GetModuleBlob): Eliminated function.
(InitializeMagickModules): New function to safely initialize the
module loader.
(OpenModule): Added logging messages.
(OpenModules): Added logging messages.
(ReadModuleConfigureFile): Use GetConfigureBlob() rather than
GetModuleBlob().
Totally eliminated the rat's-nest of conditional code dependent on
SupportMagickModules.  Now all the code in module.c is dependent
on #if defined(SupportMagickModules).</p></li>
<li><p>magick/magick.c (DestroyMagick): Invoke DestroyMagickModules().
(GetMagickInfo): #ifdef chunks of code which exist to support the
modules-build rather than forcing the module loader to pretend
that modules are being used when they are not. Pass module loading
exceptions back to the user rather than discarding them.
(GetMagickInfoArray): Don't inspect the exception status since may
short-circuits the operation.  Use best-effort instead.
(ListMagickInfo): Don't inspect the current exception status so
that all the modules which did load successfully will be
represented.
(InitializeMagick): Invoke InitializeMagickModules().</p></li>
<li><p>magick/log.c: (GetLogBlob): Eliminated function.
GetConfigureBlob() is safe to use now when configuring logging.
(LogToBlob): Simplified function.  Only exists since FileToBlob()
may throw exceptions (which are logged, causing deadlock).
(ReadLogConfigureFile): Use GetConfigureBlob().</p></li>
<li><p>magick/blob.c (GetConfigureBlob): Re-written to use the
MagickMap interface and to support the new <cite>lib</cite> and <cite>share</cite>
config directories.  The directory
${prefix}/lib/GraphicsMagick-version/config is scanned before
${prefix}/share/GraphicsMagick-version/config.
(FileToBlob): Simplified implementation.</p></li>
<li><p>config/Makefile.am: New makefile to install .mgk files.</p></li>
<li><p>magick/magick_config.h.in: Added MagickLibConfigPath and
MagickShareConfigPath defines.</p></li>
<li><p>configure.ac: Install configuration files (.mgk files) in
${prefix}/lib/GraphicsMagick-version/config and
${prefix}/share/GraphicsMagick-version/config.  Architecture
independent files to under &quot;share&quot; while architecture dependnet
files go under &quot;lib&quot;.</p></li>
<li><p>Makefile.am: Added <cite>config</cite> subdirectory to distribution.  All
.mgk files are moved from <cite>coders</cite> &amp; <cite>magick</cite> into this single
directory.</p></li>
</ul>
</blockquote>
<p>2003-10-21  Mike Chiarappa  &lt;<a class="reference external" href="mailto:mikechiarappa&#37;&#52;&#48;libero&#46;it">mikechiarappa<span>&#64;</span>libero<span>&#46;</span>it</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/studio.h: small modifications to achieve DLL
compilation of library with Borland C++ Builder.</p></li>
<li><p>coders/ps3.c (ZLIBEncode2Image): Fixed bug. Compilation
fail when HasZLIB is undefined because parameters 5 and 6,
are undefined.</p></li>
</ul>
</blockquote>
<p>2003-10-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>libtool.m4: Updated libtool again to CVS latest version.
Libtool required some fixes for building DLLs under MinGW.</p></li>
<li><p>magick/resource.c (InitializeMagickResources): Some code is
conditional based on HAVE_POPEN.</p></li>
<li><p>magick/utility.c (SystemCommand): Improved conditional
compilation logic.</p></li>
<li><p>magick/blob.c (OpenBlob): Code depending on popen() is
conditionally compiled based on HAVE_POPEN.  Code depending on
pclose() is conditionally compiled based on HAVE_PCLOSE.</p></li>
<li><p>configure.ac: Add test for _pclose(), pclose(), _popen(), and
popen().</p></li>
<li><p>magick/locale.c (GetLocaleMessage): Add missing MagickExport.
(GetLocaleMessageFromID): Add missing MagickExport.</p></li>
<li><p>VisualMagick/installer/inc/files-development.isx (Source):
Include all of the headers from the magick directory in the
development package.  Including them individually is too error
prone.</p></li>
</ul>
</blockquote>
<p>2003-10-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagick/magick/magick_config.h.in: Added
PREFIX_MAGICK_SYMBOLS as a configuration option.</p></li>
<li><p>magick/module.c (_CoderInfo): Added register_function and
unregister_function members to record the module's register and
unregister function addresses.
(OpenModule): Locate the module's register and unregister
functions and save their address to the module's CoderInfo record.
(UnloadModule): Invoke the module unregister function using the
address recorded by OpenModule().
(TagToFunctionName): If PREFIX_MAGICK_SYMBOLS is defined, then add
a &quot;Gm&quot; prefix to the register and unregister function names.</p></li>
<li><p>libtool: Updated libtool files to the latest CVS version.</p></li>
<li><p>configure.ac: Changed define name from MAGICK_SYMBOL_PREFIX to
PREFIX_MAGICK_SYMBOLS since support is not available for
specifying an arbitrary prefix.</p></li>
</ul>
</blockquote>
<p>2003-10-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Added --enable-symbol-prefix configure option
which prepends &quot;Gm&quot; to all GraphicsMagick library symbols using
the C pre-processor.  In the future, this may change to support
specifying an arbitrary prefix, depending on experience.</p></li>
<li><p>magick/studio.h: Include magick/symbols.h.</p></li>
<li><p>magick/api.h: Include magick/symbols.h.</p></li>
<li><p>magick/symbols.h: New header to support optionally remapping
library symbols.  If MAGICK_SYMBOL_PREFIX is defined, then
library symbols are remapped.</p></li>
</ul>
</blockquote>
<p>2003-10-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/api.h: Removed inclusion of &lt;magick/semaphore.h&gt; since it
is an implementation header.</p></li>
</ul>
</blockquote>
<p>2003-10-13  Lars Skyum  &lt;<a class="reference external" href="mailto:lrs&#37;&#52;&#48;stibo&#46;dk">lrs<span>&#64;</span>stibo<span>&#46;</span>dk</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/GraphicsMagick.html, www/animate.html, www/composite.html,
www/conjure.html, www/convert.html, www/display.html, www/gm.html,
www/identify.html, www/import.html, www/mogrify.html,
www/montage.html: added documentation for &quot;-define&quot; command line
option.</p></li>
<li><p>doc/brief_options.imdoc, doc/options.imdoc: Added documentation
for &quot;-define&quot; command line option.</p></li>
<li><p>doc/gmdocselect, doc/imdocselect: Changed &quot;skipform&quot; label in
sed scripts to just &quot;skipf&quot;. Solaris sed had problems with the
long(?) &quot;skipform&quot; label.</p></li>
</ul>
</blockquote>
<p>2003-10-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>doc/composite.imdoc, doc/options.imdoc, doc/GraphicsMagick.imdoc:
Attempted to clarify the meaning of the compose arguments and how
composition works, as well as eliminating use of hard-coded values like
255.</p></li>
<li><p>www/links.html: Added a link to Michael Still's article
&quot;Graphics from the command line&quot;.</p></li>
</ul>
</blockquote>
<p>2003-10-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/*.c: Updated module descriptions so that they accurately
describe the module rather than saying &quot;Read/Write GraphicsMagick
Image Format&quot;.</p></li>
<li><p>coders/cineon.c: Fix source module description.  Contrary to
opinion, ImageMagick did not invent the Cineon X image format so
description is now &quot;Read/Write Cineon X Image Format.&quot;</p></li>
<li><p>magick/magic.mgk: Added a CINEON entry for the Cineon X image
format.</p></li>
<li><p>magick/static.c (RegisterStaticModules): Invoke
RegisterCINEONImage().</p></li>
<li><p>coders/modules.mgk: Map &quot;CIN&quot; magick to CINEON module.</p></li>
</ul>
</blockquote>
<p>2003-10-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>locale/C.mgk: Added message for &quot;UnrecognizedCommand&quot;.</p></li>
<li><p>magick/command.c (MagickCommand): No error was reported when a
subcommand failed to be matched so <cite>gm foo</cite> would silently return.
Now an error message is properly reported.</p></li>
</ul>
</blockquote>
<p>2003-10-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Makefile.am: Updated to Automake 1.7.8.</p></li>
<li><p>various: Edits to eliminate minor issues detected by SGI C compiler.</p></li>
<li><p>coders/ps3.c (WritePS3Image): Variable <cite>value</cite> was set but never
used so it is removed.</p></li>
<li><p>magick/image.c (RGBTransformPacket): Removed inline request
since this function is too big to inline.</p></li>
<li><p>magick/animate.c (XAnimateBackgroundImage): Fixed a GCC 3.X
&quot;type pinning&quot; warning.</p></li>
<li><p>magick/display.c (XDisplayBackgroundImage): Fixed a GCC 3.X
&quot;type pinning&quot; warning.</p></li>
<li><p>magick/render.c (GetPixelOpacity): Removed inline directive.  No
one in their right mind could ever imagine this function inlining
successfully.</p></li>
<li><p>magick/cache.c (IsNexusInCore): Adjusted so function inlines as
requested.</p></li>
<li><p>coders/tiff.c (ReadTIFFImage): Improved logging information.
(WriteTIFFImage): Changed the way the bilevel/grayscale logic
works.  Now bilevel images are treated similar to any other
grayscale image unless CCITT FAX3 or FAX4 compression is requested
(which selects the MINISWHITE photometric).  The default is now to
write uncompressed bilevel images with MINISBLACK photometric.</p></li>
<li><p>PerlMagick/t/composite.t: Use some reasonable error values.</p></li>
<li><p>magick/image.c (GetImageDepth): Added special cases for
colormapped images and monochrome images in order to improve
performance.</p></li>
</ul>
</blockquote>
<p>2003-10-09  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>NEWS: added info about color scaling, sampling-factor, and
changed a reference to &quot;-coder-options&quot; to &quot;-define&quot;.</p></li>
</ul>
</blockquote>
<p>2003-10-09  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagick/bin/modules.mgk: added EPS3 mapping to PS3 module.</p></li>
<li><p>coders/ps3.c, coders/tiff.c, magick/command.c, magick/image.c,
magick/image.h, magick/utility.c: Changed -coder-options option to
-define. Also renamed functions {Add,Remove,Access}CoderOption(s)
to {Add,Remove,Access}Definition(s). Changed ps coder-specific
option ps:image=imagemask to just ps:imagemask.</p></li>
</ul>
</blockquote>
<p>2003-10-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/cineon.c: Imported and adapted Cineon image format coder
written by Kelly Bergougnoux &lt;<a class="reference external" href="mailto:three3&#37;&#52;&#48;users&#46;sourceforge&#46;net">three3<span>&#64;</span>users<span>&#46;</span>sourceforge<span>&#46;</span>net</a>&gt; with
assistance from John Cristy.</p></li>
</ul>
</blockquote>
<p>2003-10-08  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jpeg.c: Extended -sampling-factor option to allow
user to supply full set of sampling factors.  If the full
set is not supplied, omitted ones are 1x1 by default, similar
to the behavior of &quot;cjpeg -sample&quot;.</p></li>
<li><p>magick/command.c: Accept multiple pairs of sampling factors.</p></li>
</ul>
</blockquote>
<p>2003-10-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/tiff.c (WriteTIFFImage): Re-arranged logging for improved
output.  Cleaned up evaluation of SAMPLESPERPIXEL and
BITSPERSAMPLE.  Provided support for the TIFF coder options
tiff:samples-per-pixel and tiff:bits-per-sample for power users.
(ReadTIFFImage): Colormap generation for PHOTOMETRIC_MINISBLACK
and PHOTOMETRIC_MINISWHITE was inaccurate.  Seems to be accurate
now.</p></li>
<li><p>PerlMagick/t/reference/read/input.miff: Updated due to Glenn's
change to scale macros.</p></li>
<li><p>PerlMagick/t/tiff/input_gray_12bit.tiff: Replaced 12 bit image
with a different one which is written by GraphicsMagick.</p></li>
<li><p>coders/ps3.c (WritePS3Image): Use AccessCoderOption().</p></li>
<li><p>magick/image.c (AccessCoderOption): Added a function to use for
accessing coder-specific options.</p></li>
</ul>
</blockquote>
<p>2003-10-08  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/attribute.c (TraceSVGClippingPath): optimized for speed
and precision in clipping mask generation by using lines to
connect Bezier curve anchor points where applicable.</p></li>
</ul>
</blockquote>
<p>2003-10-07  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Revised ScaleColor5to8 and ScaleColor6to8 macros again, to
fill the low bits correctly.</p></li>
</ul>
</blockquote>
<p>2003-10-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/t/tiff/read.t: Added 16-color and 256 color
colormapped tests with a matte channel.</p></li>
<li><p>PerlMagick/t/tiff/write.t: Added 16-color and 256 color
colormapped tests with a matte channel.</p></li>
<li><p>coders/tiff.c (WriteTIFFImage): When using LZW compression,
apply the horizontal differencing predictor to RGB truecolor and
deep gray images since the TIFF spec says that LZW compression is
usually improved by using horizontal differencing with continuous
tone images.
Re-implemented grayscale and colormapped scanline preparation to
use the new bit-stream interface.  This is a bit slower, but very
flexible, and the implementation is very compact.  Writing of a
matte (transparency) channel is now believed to be correct for all
depths.</p></li>
<li><p>magick/command.c (MogrifyImage): Only transform the colorspace
if it has been set (i.e. is not UndefinedColorspace).</p></li>
</ul>
</blockquote>
<p>2003-10-06  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/png.c (ReadOnePNGImage): PNG decoder would exit too
early when reading image.png[0].</p></li>
</ul>
</blockquote>
<p>2003-10-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/t/tiff/write.t: Added TIFF write tests for 4
bits-per-sample TIFF images, both with and without a transparency
channel.</p></li>
<li><p>magick/image.c (DescribeImage): Added -verbose support for
displaying individual channel depths.</p></li>
</ul>
</blockquote>
<p>2003-10-06  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (SetImageInfo): cleaned up parsing of subimage
specification (image.psd[0]). It would fail sometimes due to
incorrect reuse of variables. It's a bit strange the code accepts
more range syntax-variations than can be stored in ImageInfo.</p></li>
</ul>
</blockquote>
<p>2003-10-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (ChannelImage): The OpacityChannel, MatteChannel,
and BlackChannel operations set the matte channel to opaque, so
set image-&gt;matte to False for those operations.
(RGBTransformImage): Add an assertion to prevent passing the
colorspace argument <cite>UndefinedColorspace</cite>.
(TransformRGBImage): Add an assertion to prevent passing an image
with colorspace set to <cite>UndefinedColorspace</cite>.</p></li>
</ul>
</blockquote>
<p>2003-10-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/log.c (LogToBlob): Since MagickSeek(file,0,SEEK_END) is
used to obtain the Blob size, MagickSeek(file,0,SEEK_SET) must be
used to restore the seek position.  Thanks to John Cristy for
bringing this to our attention.</p></li>
</ul>
</blockquote>
<p>2003-10-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/bit_stream.h: Added a bit-stream writer function.</p></li>
<li><p>PerlMagick/t/reference/read/input_tim.miff: Reference image
was defective.</p></li>
</ul>
</blockquote>
<p>2003-10-03  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c, magick/image.h: Updated AddCoderOptions to
accept &quot;flag&quot; keys that have no values. They are placed in the
coder options map with an empty, zero length string value. Option
argument syntax is now: &quot;key1[=[value1]],key2[=[value2]],...&quot;</p></li>
</ul>
</blockquote>
<p>2003-10-03  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/command.c: Updated +coder-options option to not clear the
entire map of coder options, but accept a list of names to remove
from the map. Use option argument &quot;*&quot; to clear the entire map of
coder options.</p></li>
<li><p>magick/image.c, magick/image.h: Added function
RemoveCoderOptions. Added cast of signed char to unsigned char and
int in calls to isspace and isprint.</p></li>
<li><p>magick/utility.c: Added cast of signed char to unsigned char and
int in calls to isspace and isprint. Added special handling of
+coder-options option in ExpandFilenames function.</p></li>
</ul>
</blockquote>
<p>2003-10-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/t/reference/read/input_tim.miff: The TIM read results
changed somewhat due to Glenn's ScaleColor5to8 fix.</p></li>
</ul>
</blockquote>
<p>2003-10-01  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Revised ScaleColor5to8 and ScaleColor6to8 macros to fill in the
low bytes.</p></li>
<li><p>coders/bmp.c (ReadBMPImage): scaling of 8-8-8-8-bit images was
also slightly incorrect.</p></li>
</ul>
</blockquote>
<p>2003-09-30  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/bmp.c (ReadBMPImage): scaling of 5-5-5-bit and 5-6-5-bit
images was slightly incorrect.</p></li>
</ul>
</blockquote>
<p>2003-09-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/tiff.c (ReadTIFFImage): When using the generic bit-stream
marshaller to read colormapped/gray images, the slight performance
improvement from creating a special case for matte images did not
justify almost doubling the amount of code.  Therefore, the two
loops are combined back into one.</p></li>
</ul>
</blockquote>
<p>2003-09-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/tiff.c (ReadTIFFImage): Fixed reading grayscale TIFFs
that have a transparency channel. Now uses a generic bit-stream
marshaller to allow reading any grayscale or colormapped TIFF with
any bits per sample in the range of 1 to 16.</p></li>
<li><p>magick/bit_stream.h: Added a generic implementation for
marshalling from a bit-stream into a quantum.  Still needs
re-writing for best performance.</p></li>
<li><p>PerlMagick/t/tiff/read.t: Added a test case for reading 8-bit
grayscale TIFF with matte.  Corrected grayscale 12-bit read
signatures.  Added 16 color PseudoClass read test.  Added 4-bit
grayscale read test.</p></li>
</ul>
</blockquote>
<p>2003-09-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/tiff.c (WriteTIFFImage): Add support for writing
DirectClass grayscale images at 4 bits per sample, including those
with an opacity channel.  This allows writing smaller files
(half the size) when the image has 16 (or less) levels of gray.
Use &quot;gm convert inimage.tiff -depth 4 outimage.tiff&quot; to quickly
create grayscale TIFF file with 16 (or less) levels of gray.</p></li>
</ul>
</blockquote>
<p>2003-09-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>NEWS: Updated NEWS file with changes since last update.</p></li>
<li><p>index.html: Added a link to the www/AUTHORS.html file, as well
as text stating that GraphicsMagick is originally derived from
ImageMagick 5.5.2, with a link to the ImageMagick site.</p></li>
<li><p>Makefile.am: Add rules to generate www/AUTHORS.html.</p></li>
<li><p>www/AUTHORS.html: New HTML file based on the AUTHORS file in the
source package.  GraphicsMagick has many authors.</p></li>
</ul>
</blockquote>
<dl class="simple">
<dt>2003-09-25  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</dt>
<dd><ul class="simple">
<li><p>magick/image.c: Updated DescribeImage to cleanup EXIF data display
based on work by Cristy in ImageMagick.</p></li>
</ul>
</dd>
</dl>
<p>2003-09-24  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/tiff.c (WriteTIFFImage): Add support for writing
colormapped TIFF images with 1, 2, &amp; 4 bits per colormap index.
This allows writing smaller files.</p></li>
</ul>
</blockquote>
<p>2003-09-24  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/ps3.c: Now creates a correct %%BoundingBox for images
with resolution stored as pixels per centimeter. Renamed serialize
functions. Added comment headers where they were
missing. Reformatted code to be in alignment with GraphicsMagick
standard formatting.</p></li>
<li><p>magick/map.c: Fixed semaphore double locking problem in
MagickMapCloneMap.</p></li>
</ul>
</blockquote>
<p>2003-09-23  Mike Chiarappa  &lt;<a class="reference external" href="mailto:mikechiarappa&#37;&#52;&#48;libero&#46;it">mikechiarappa<span>&#64;</span>libero<span>&#46;</span>it</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>BCBMagick/readme.txt : Updated compilation instructions.</p></li>
<li><p>BCBMagick/magick/libMagick.bpr : Updated project, now include map.c.</p></li>
<li><p>BCBMagick/lcms/Projects/BCB6/lcms.bpr : Updated project, now
include cmscam02.c and cmsvirt.c.  Much thanks to Alex Dvoretsky
for bringing this problem to my attention.</p></li>
</ul>
</blockquote>
<p>2003-09-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.h (Image): Moved private members to bottom of
structure.
(_ImageInfo): Moved private members to bottom of
structure.</p></li>
<li><p>magick/Makefile.am (pkginclude_HEADERS): Don't install
semaphore.h.
(noinst_HEADERS): Distribute map.h and semaphore.h.</p></li>
<li><p>magick/image.h (ImageInfo): Change coder_options member from
type <cite>MagickMap</cite> to type <cite>void *</cite>.</p></li>
<li><p>coders/png.c: include magick/semaphore.h.</p></li>
<li><p>magick/blob.c: include magick/semaphore.h.</p></li>
<li><p>magick/color.c: include magick/semaphore.h.</p></li>
<li><p>magick/constitute.c: include magick/semaphore.h.</p></li>
<li><p>magick/delegate.c: include magick/semaphore.h.</p></li>
<li><p>magick/log.c: include magick/semaphore.h.</p></li>
<li><p>magick/magic.c: include magick/semaphore.h.</p></li>
<li><p>magick/magick.c: include magick/semaphore.h.</p></li>
<li><p>magick/module.c: include magick/semaphore.h.</p></li>
<li><p>magick/semaphore.c: include magick/semaphore.h.</p></li>
<li><p>magick/stream.c: include magick/semaphore.h.</p></li>
<li><p>magick/tempfile.c: include magick/semaphore.h.</p></li>
<li><p>magick/type.c: include magick/semaphore.h.</p></li>
<li><p>magick/blob.h (_BlobInfo): Changed <cite>Semaphore *</cite> to <cite>void *</cite>.</p></li>
<li><p>magick/cache.h (_CacheInfo): Changed <cite>Semaphore *</cite> to <cite>void *</cite>.</p></li>
<li><p>magick/image.h (_Image): Changed <cite>Semaphore *</cite> to <cite>void *</cite>.</p></li>
<li><p>magick/command.c: Updated each invokation of MagickMapAddEntry()
to add an exception argument.</p></li>
<li><p>tests/maptest.c: Updated to pass an exception argument to
MagickMapAddEntry.</p></li>
<li><p>magick/image.c (AddCoderOptions): Added exception argument
and some more error handling.</p></li>
<li><p>magick/map.c: Added formal documentation for methods.
(MagickMapCloneMap): Added exception argument.
(MagickMapAddEntry): Added exception argument and status.</p></li>
</ul>
</blockquote>
<p>2003-09-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/emf.c: Changed NotAnEMFFile to ImproperImageHeader.</p></li>
<li><p>magick/map.h: Changed all size parmeters from type <cite>unsigned
long</cite> to <cite>size_t</cite>.</p></li>
<li><p>magick/map.c (MagickMapCopyBlob): Add new function to support
copying a Blob in a MagickMap.
(MagickMapDeallocateBlob): Add new function to support
deallocating a Blob in MagickMap.</p></li>
</ul>
</blockquote>
<p>2003-09-23  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/ps3.c: Fixed handling the case when no -coder-options are
provided to the PS3 coder.</p></li>
</ul>
</blockquote>
<p>2003-09-22  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/ps3.c: Changed %%Creator version to use
MagickLibVersionText, increased precision in HiResBoundingBox,
added a coder specific option for rendering bilevel images with
the PS imagemask operator indstead of the image operator.</p></li>
<li><p>magick/command.c: Added &quot;-coder-options&quot; command line argument
to all relevant command line utilities. Option argument to
-coder-options is a list of comma separated key-value pairs that
are saved in a MagickMap in ImageInfo for (de-)coders to use. See
PS3 coder for an example that checks for: -coder-options
&quot;ps:image=imagemask&quot;</p></li>
<li><p>magick/image.c, magick/image.h: Added function AddCoderOptions().</p></li>
<li><p>magick/map.c, magick/map.h: removed MS-DOS line terminators.</p></li>
</ul>
</blockquote>
<p>2003-09-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>tests/maptest.c (main): Test/demo program for key,value map API.</p></li>
<li><p>magick/map.c, magick/map.h: Implementation of a key,value map
API for internal use.</p></li>
</ul>
</blockquote>
<p>2003-09-19  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>lcms/include/icc34.h lcms.h: Added back the icc34.h header and
changes to make lcms compile on Win32&quot; icc34.h lcms.h.</p></li>
</ul>
</blockquote>
<p>2003-09-19  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/ps3.c: Fixed warnings from Solaris compiler.</p></li>
</ul>
</blockquote>
<p>2003-09-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>locale/C.mgk: Eliminated the many &quot;NotA&quot; messages since they may
all be considered forms of &quot;ImproperImageHeader&quot;.  It is useful to
provide the origin of such messages in case the wrong coder has
been invoked, however, this is expensive to do via the message
database since it explodes the number of messages.  The exception
logging can help here.  Once the exception reports include the
reporting entity, it will be more clear when the software
misbehaves.</p></li>
<li><p>magick/error.h (ThrowReaderException2): Remove since no longer
used.
(ThrowReaderException): Simplified implementation so that
ThrowException is not expanded twice.</p></li>
<li><p>magick/error.h (ThrowReaderException3): Remove since never used.</p></li>
<li><p>coders/xtrn.c (ReadXTRNImage): Use ThrowReaderException rather
than ThrowReaderException2.</p></li>
<li><p>locale/C.mgk (MissingArgument) Updated to include %s so that the
description field appears earlier in the message.</p></li>
<li><p>magick/error.c (DefaultErrorHandler): Added a hack to allow the
<cite>reason</cite> member to include a %s so that it may specify the
formating of the message.  Care should be taken to not over-use
this hack.</p></li>
</ul>
</blockquote>
<p>2003-09-18  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/ps3.c: Major update of the PS3 coder. Now ascii85 encodes
all binary data. Many printer spoolers don't like the binary
data. The coder now creates much smaller files for bilevel, gray,
and colormapped images. Compression and image type is now
separated so they may be combined independently. Any alpha channel
is separated into a separate mask so it's possible to mask
bilevel, gray, colormapped, rgb, and CKYK images. You may also
mask a JPEG compressed PS file for instance. Clipping masks
created from a photoshop clipping path with -clip option is
converted to a corresponding postscript clipping path.  New
functions need comment headers.</p></li>
<li><p>magick/attribute.c: Added TracePSClippingPath for creating a
postscript clipping path from a photoshop clipping path.</p></li>
<li><p>magick/compress.c, magick/compress.h: Added write-hook based
interface to compression functions. Required for ascii encoding
compressed, binary data. The interface between blob write
functions, compression functions, and encoding functions could
benefit from more of this work.</p></li>
<li><p>magick/image.c: ClipPathImage now stores the name of the
clipping path in the mask image filename so that it is remembered
and may be used for creating a postscript clipping path for
postscript output.</p></li>
<li><p>coders/modules.mgk: Added EPS3 mapping to module PS3.</p></li>
</ul>
</blockquote>
<p>2003-09-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/command.c: Coalesced various &quot;Missing&quot; error reports into
one &quot;MissingArgument&quot; error report in order to reduce the number
of messages to be maintained.</p></li>
<li><p>locale/C.mgk: Removed almost all &quot;Missing&quot; messages.</p></li>
<li><p>magick/gm_messages.mc: Added Microsoft message compiler source
file to CVS until which time it may be generated automatically
during the build.</p></li>
</ul>
</blockquote>
<p>2003-09-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>locale/Makefile: Added ability to generate gm_messages.mc
(for Windows message compiler) as well as adding <cite>clean</cite> and
<cite>install</cite> targets.</p></li>
<li><p>magick/delegate.h: Visual Studio .NET 2003 doesn't like
the chaining of GhostscriptVector members which share a
common return type. Splitting the definitions solves this
problem.</p></li>
</ul>
</blockquote>
<p>2003-09-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/deprecate.h (MagickSignedType): Compatibility definition
to handle ImageMagick API change.
(MagickUnsignedType): Compatibility definition to handle
ImageMagick API change. The new names are just as useless as the
old names, but at least they are shorter.</p></li>
<li><p>magick/command.c: Linux's sscanf has the terrible bug that it
improperly handles pulling out the first floating value from the
string &quot;0x1&quot;.  Instead of retrieving the value 0 and returning 1,
it returns 0, probably because it rejects the string as a hex
constant. As a result, all options which used sscanf to validate
this input are now converted to use IsGeometry().</p></li>
</ul>
</blockquote>
<p>2003-09-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>ltdl/ltdl.c: Update to libltdl current as of today.</p></li>
<li><p>ltmain.sh: Update to libtool current as of today.</p></li>
<li><p>configure.ac: For HPUX C++ compiler, add -AA to CXXFLAGS rather
than CXX.</p></li>
</ul>
</blockquote>
<p>2003-09-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Decided that the standards conformance
defines create more problems than they solve so they are
removed.
Move the large-file tests to before the libtool configuration
since the libtool configuration was causing stdlib.h to be
included prior to the large file defines, and this causes
header failure with C++ under AIX.</p></li>
<li><p>www/api/types.html: Update description of MonitorHandler.</p></li>
</ul>
</blockquote>
<p>2003-09-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Set CXX to PTHREAD_CXX if necessary (and warn).</p></li>
<li><p>acinclude.m4 (ACX_PTHREAD): Add check to see if xlC_r should be
used for AIX.</p></li>
</ul>
</blockquote>
<p>2003-09-10  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/render.c: Fixed handling of arc primitive (see IM-5.5.8).</p></li>
</ul>
</blockquote>
<p>2003-09-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/log.h: It seems that test programs are using
GetMagickModule so make it visible by default.</p></li>
<li><p>configure.ac: Use GM_FUNC_MMAP_FILEIO macro to test mmap.</p></li>
<li><p>acinclude.m4 (GM_FUNC_MMAP_FILEIO): New macro to test mmap's
capability to do coherent file I/O.  The AC_FUNC_MMAP macro
was not testing the mmap features that GraphicsMagick uses, and
was failing on a number of systems.</p></li>
<li><p>magick/blob.c (BlobMapModeToString): Only include this static
function if HAVE_MMAP is defined.</p></li>
<li><p>coders/locale.c (WriteLOCALEImage): Fix FormatString argument
type inconsistencies.</p></li>
<li><p>wand/magick_compat.h: Change MagickExport to WandExport.</p></li>
<li><p>coders/jpeg.c, coders/locale.c, coders/meta.c, coders/miff.c,
coders/palm.c, coders/pict.c, coders/svg.c, coders/tiff.c,
coders/topol.c, magick/cache.c, magick/display.c, magick/image.c,
magick/widget.c: Removed unused values, changed storage types, or
added explicit casts, in order to reduce the number of &quot;REMARK&quot;s
when using the SGI IRIX compiler.</p></li>
<li><p>magick/render.c (DrawClipPath): Fix memory leak of
clone_info-&gt;clip_path.  Problem reported by Vladimir
&lt;<a class="reference external" href="mailto:lvm&#37;&#52;&#48;integrum&#46;ru">lvm<span>&#64;</span>integrum<span>&#46;</span>ru</a>&gt;.
(DestroyDrawInfo): Remove unnecessary checks for non-null prior to
invoking MagickFreeMemory. MagickFreeMemory already checks for
non-null.</p></li>
<li><p>magick/log.h (GetCurrentFunction): Apparently Visual C++ 6.0
does not support __FUNCTION__.  Problem reported by Vladimir
&lt;<a class="reference external" href="mailto:lvm&#37;&#52;&#48;integrum&#46;ru">lvm<span>&#64;</span>integrum<span>&#46;</span>ru</a>&gt;.</p></li>
<li><p>wand/magick_compat.c: All functions in magick_compat.c must use
WandExport rather than MagickExport. Fix recommended by Vladimir
&lt;<a class="reference external" href="mailto:lvm&#37;&#52;&#48;integrum&#46;ru">lvm<span>&#64;</span>integrum<span>&#46;</span>ru</a>&gt;.</p></li>
<li><p>magick/constitute.c (PushImagePixels): number_pixels was always
cast to a long during use, so change to store value in a long
instead.
(PopImagePixels): number_pixels was always
cast to a long during use, so change to store value in a long
instead.</p></li>
</ul>
</blockquote>
<p>2003-09-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/psd.c: Eliminated warning regarding unused initialized
variable.</p></li>
<li><p>magick/log.c: Eliminate type warnings regarding enum assignment.</p></li>
<li><p>coders/locale.c (WriteLOCALEImage): Use UndefinedException
rather than 0 in severity_list terminating entry in order to avoid
a type conversion warning.</p></li>
<li><p>magick/image.c (SetImageChannelDepth): Depth parameter was being
returned rather than status.  Oops!</p></li>
<li><p>magick/effect.c (BlurScanline): Due to automatic casting
conventions, computation was being done (at least with SGI
compiler) as type <cite>unsigned long</cite> rather than <cite>long</cite> as it should
have been.</p></li>
<li><p>coders/jpeg.c, coders/meta.c, coders/miff.c, coders/msl.c,
coders/palm.c, coders/pcd.c, coders/psd.c, coders/svg.c,
coders/tiff.c, coders/xcf.c, magick/render.c, : Quench many SGI
compiler warnings regarding variables which are initialized but
never used.</p></li>
<li><p>magick/xwindow.h: Undef gravity defines so that enumerated type
is used instead.</p></li>
</ul>
</blockquote>
<p>2003-09-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/log.c (LogMagickEvent): Windows system logging
functionality is not currently ported to work with Cygwin so
disable when compiling under Cygwin.</p></li>
<li><p>magick/log.c (Win32EventlogOutput): Remove spurious comma in enum.</p></li>
<li><p>wand/drawing_wand.h: Remove junk comment marker that I forgot to
remove.</p></li>
<li><p>magick/studio.h: Provide prototypes for strlcpy and vsnprintf if
the system doesn't provide them in the requested compilation
environment.</p></li>
<li><p>configure.ac: Add necessary standards compilance definitions to
magick_config.h.
Check for strlcpy and vsnprintf prototypes.</p></li>
<li><p>Makefile.am (DOCDIRS): www/api/types does not exist anymore.</p></li>
</ul>
</blockquote>
<p>2003-09-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Move multithread tests prior to libtool
configuration in case value of CC is changed.  Otherwise libtool
gets confused and refuses to run.</p></li>
<li><p>acinclude.m4 (ACX_PTHREAD): If using AIX CC <cite>xlc</cite> use <cite>xlc_r</cite>
for multithread compiler.</p></li>
<li><p>coders/jpeg.c: Undef HAVE_STDLIB_H before including the
jpeg headers or else we get an already defined error/warning.</p></li>
</ul>
</blockquote>
<p>2003-09-04  Mike Chiarappa  &lt;<a class="reference external" href="mailto:mikechiarappa&#37;&#52;&#48;libero&#46;it">mikechiarappa<span>&#64;</span>libero<span>&#46;</span>it</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>BCBMagick : Updated whole directory tree to achieve correct
compilation with Borland C++ Buider 6.0.</p></li>
</ul>
</blockquote>
<p>2003-09-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (ClipPathImage): Remove MS-DOS line terminations
(actually, extra carriage returns) which somehow crept into
ClipPathImage.</p></li>
<li><p>locale/C.mgk: Added message for &quot;PNG library is too old&quot;.</p></li>
</ul>
</blockquote>
<p>2003-09-04  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/transform.c (ProfileImage): Bugfix: conditional
compilation based on LCMS being present or not now works as
expected. An exception is thrown if LCMS is not present and
profile conversion is used.</p></li>
</ul>
</blockquote>
<p>2003-09-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/txt.c (ReadTXTImage): Fix strlen() pointer type warning.</p></li>
<li><p>magick/image.c (TextureImage): Fixed return with no value warning.</p></li>
<li><p>magick/color.c (GetColorInfoArray): Decided that the const
return value was a bad idea.  Therefore, the return type has been
made non-const.</p></li>
<li><p>magick/magick.c (GetMagickInfoArray): Decided that the const
return value was a bad idea.  Therefore, the return type has been
made non-const.</p></li>
<li><p>tests/constitute.c, tests/rwblob.c, tests/rwfile.c : Define
MAGICK_IMPLEMENTATION since these test programs using some internal
extensions.</p></li>
<li><p>configure.ac: Test C++ compiler for __func__ support.</p></li>
<li><p>magick/log.h: Added GetCurrentFunction() macro to handle
__func__ support determination.  Re-wrote GetMagickModule() macro
to use GetCurrentFunction().  Changes should allow compilation of
Magick++ when the C compiler supports __func__ but the C++
compiler does not.</p></li>
<li><p>configure.ac: Changed from using HAS___func__ define to
HAS_C__func__ since this feature may be language sensitive.</p></li>
<li><p>locale/C.mgk: Added missing JNGCompressionNotSupported message.</p></li>
</ul>
</blockquote>
<p>2003-09-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/attribute.c (Generate8BIMAttribute): Fix sscanf argument
type mis-match.</p></li>
<li><p>coders/ps3.c (ZLIBEncodeImage): Fix mis-classified
ZipLibraryIsNotAvailable error report.</p></li>
<li><p>coders/url.c (RegisterURLImage): Only register URL format
support if libxml2 is available.</p></li>
<li><p>coders/msl.c (RegisterMSLImage): Only register MSL format
support if libxml2 is available.</p></li>
</ul>
</blockquote>
<p>2003-09-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/histogram.c (WriteHISTOGRAMImage): Remove a useless loop.</p></li>
<li><p>coders/wpg.c: Applied patch from Fojtik Jaroslav to support
reading WPGs which use the EXT token.</p></li>
</ul>
</blockquote>
<p>2003-08-31  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/color.c (HistogramToFile): Renamed static method
<cite>Histogram</cite> to <cite>HistogramToFile</cite> to make it more clear what this
function does.
(GetColorHistogram): Added new function to support retrieving a
color histogram of the image.  A color histogram contains a count
of how many times each color occurs in the image.</p></li>
<li><p>magick/image.c (GetImageChannelDepth): Return an <cite>unsigned int</cite>
rather than <cite>long</cite>.</p></li>
</ul>
</blockquote>
<p>2003-08-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/Magick.xs: Add support for CopyCyan, CopyMagenta,
CopyYellow, and CopyBlack, composition operators.</p></li>
<li><p>magick/composite.c (CompositeImage): Added support for
CopyCyanCompositeOp, CopyMagentaCompositeOp,
CopyYellowCompositeOp, and CopyBlackCompositeOp, composition
operators.</p></li>
</ul>
</blockquote>
<p>2003-08-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>wand/*: Updated to current ImageMagick Wand API (minus a few
unimplemented functions).</p></li>
<li><p>magick/image.c (TextureImage): Add status return because Wand API
wants it.  Inherit is_grayscale status from texture image.</p></li>
<li><p>magick/fx.c (SolarizeImage): Add status return because Wand API
wants it.</p></li>
<li><p>magick/resource.c (SetMagickResourceLimit): Add status return
because Wand API wants it.</p></li>
<li><p>magick/draw.c (DrawPeekGraphicContext): Now returns a
copy of the current DrawInfo context rather than returning
a pointer into the context stack. The user must destroy
this copy using DestroyDrawInfo() once it is no longer
needed.</p></li>
</ul>
</blockquote>
<p>2003-08-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagick/filters/LIBRARY.txt: This file is necessary to
incorporate analyze.c into the static build.  Without it the
build fails.</p></li>
</ul>
</blockquote>
<p>2003-08-23  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/transform.c: ProfileImage updated to handle alpha
channels and grayscale images. Also optimized color profiling of
color mapped images and fixed a few bugs in profiling of CMYK
images.</p></li>
<li><p>magic/locale_c.h: added MagickExport to prototype declaration of
GetLocaleMessageFromID in WriteLOCALEImage again. Please update
your locale coder.</p></li>
</ul>
</blockquote>
<p>2003-08-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/wpg.c: Applied patch from Fojtik Jaroslav to use the
GetMagicInfo() function to obtain the format of embedded images,
and to provide a default WPG palette if the WPG file does not
supply a palette.</p></li>
</ul>
</blockquote>
<p>2003-08-22  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magickgm_messages.bin locale_c.h transform.c: Fixed missing
message problem and added support for new lcms error handler.</p></li>
</ul>
</blockquote>
<p>2003-08-21  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/attribute.c, magick/image.c, magick/command.c: Added
&quot;clippath&quot; option for clipping named Photoshop clipping paths,
increased precision in clipping path knots, added comments, and
fixed a few bugs resulting from moving TraceClippingPath function
from ImageMagick to GraphicsMagick. Still need to update some of
the documentation.</p></li>
<li><p>magick/locale_c.h, magick/studio.h: added MagickExport to
declaration of GetLocaleMessageFromID and moved include of
magick/locale_c.h after declaration of MagickExport. This fixes a
link error in dynamic, DLL version.</p></li>
<li><p>coders/locale.h: added MagickExport to prototype declaration of
GetLocaleMessageFromID in WriteLOCALEImage.</p></li>
</ul>
</blockquote>
<p>2003-08-21  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/t/subroutines.pl (testRead): Ignore useless TIFF
warning so that 12-bit TIFF test passes.</p></li>
<li><p>magick/constitute.c (ReadImage): Ensure that the reported image
magic string is that of the user-specified input file rather than
a temporary file prepared by an external delegate program.</p></li>
<li><p>magick/command.c (ImportImageCommand): Since
DestroyExceptionInfo() now sets the destroyed exception signature
to an invalid value, GetExceptionInfo(exception) must be invoked
when the intention is to simply purge the exception.  This fix
resolves an abort when executing <cite>gm import</cite>.</p></li>
</ul>
</blockquote>
<p>2003-08-18  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magickgm_messages.bin locale_c.h transform.c: Updates that
add latest enhancments by Lars to color management code in
ProfileImage.</p></li>
</ul>
</blockquote>
<p>2003-08-19  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/wpg.c: Incorporated patch from Fojtik Jaroslav to support
rendering embedded WMFs.</p></li>
</ul>
</blockquote>
<p>2003-08-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (SetImageChannelDepth): New function to transform
the specified channel so it fits the specified modulus depth.</p></li>
<li><p>magick/blob.c (BlobToImage): Skip calling SetImageInfo() if
magick is already set.</p></li>
</ul>
</blockquote>
<p>2003-08-18  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/Magick.xs: Some fixes to get PerlMagick compiling
again due to new ID based error macros.</p></li>
</ul>
</blockquote>
<p>2003-08-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/error.h (enum): Remove spurious comma.</p></li>
</ul>
</blockquote>
<p>2003-08-17  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coderspng.c: Had to modify a few exception calls to work with
newest macros.</p></li>
</ul>
</blockquote>
<p>2003-08-17  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coderslocale.c magick/error.h locale.c locale_c.h studio.h:
The LOCALEH header file generator now adds an MGK_ prefiix to
all the ID defines as part of a fix to support the new error
and exception macros cross platform.</p></li>
</ul>
</blockquote>
<p>2003-08-16  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>wandmagick_wand.c pixel_wand.c: The wand api code was totally
left out of the large macro conversion below as an oversight.</p></li>
</ul>
</blockquote>
<p>2003-08-15  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>.coders art.c avi.c avs.c bmp.c caption.c clipboard.c cmyk.c
cut.c dcm.c dib.c dps.c dpx.c emf.c ept.c fax.c fits.c fpx.c gif.c
gradient.c gray.c hdf.c histogram.c html.c icon.c jbig.c jp2.c
jpeg.c label.c locale.c logo.c map.c mat.c matte.c meta.c miff.c
mono.c mpc.c mpeg.c msl.c mtv.c mvg.c null.c otb.c palm.c pcd.c
pcl.c pcx.c pdb.c pdf.c pict.c pix.c png.c pnm.c preview.c ps.c
ps2.c ps3.c psd.c pwp.c rgb.c rla.c rle.c sct.c sfw.c sgi.c
stegano.c sun.c svg.c tga.c tiff.c tile.c tim.c topol.c ttf.c txt.c
uil.c url.c uyvy.c vicar.c vid.c viff.c wbmp.c wmf.c wpg.c x.c xbm.c
xc.c xcf.c xpm.c xtrn.c xwd.c yuv.c .magickanimate.c annotate.c
blob.c cache.c cache_view.c color.c color.h command.c compress.c
constitute.c decorate.c delegate.c display.c draw.c effect.c
enhance.c error.c error.h fx.c gm_messages.bin image.c list.c
locale.c locale_c.h log.c mac.c magic.c magick.c module.c montage.c
nt_feature.c paint.c quantize.c registry.c render.c resize.c
segment.c semaphore.c shear.c signature.c static.c static.h
stream.c studio.h tempfile.h transform.c type.c utility.c widget.c
xwindow.c : Changes to support ID based message access and checking
all message usages. The main thing that was done was to remove all
the quotes around the &quot;tags&quot; used to lookup messages defined in
the localeC.XML file. Macros were added to error.h to allow the
code to be compiled for either string based access or binary ID
based access. Using binary ID's will cause the code to fail to
compile if a message does not exist in C.XML, since no ID will be
created for a missing message. This change then allowed us to
easily track down all the messages that were &quot;missing&quot; or not
being accessed properly. The problems were massive and took many
days to resolve. I have left the code compiling in ID mode to keep
things in sync going forward and also because it makes message
lookup instantaneous. An ID is just an index into and array of
char *'s. There is still a lot of cleanup work remaining, but this
is a very good start.</p></li>
</ul>
</blockquote>
<p>2003-08-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/error.c (GetLocaleExceptionMessage): Add check to avoid
duplicating severity prefix.</p></li>
<li><p>magick/log.c (LogMagickEvent): Incorporated fix from Bill
Radcliffe to enable logging control flags to work properly again.</p></li>
<li><p>NEWS: Updated news.</p></li>
<li><p>magick/blob.c (OpenBlob): Rewind file descriptor so that first
read is at zero offset. This fixes reading GIFs via a
user-provided file handle.</p></li>
</ul>
</blockquote>
<p>2003-08-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (GetImageDepth): Extend so that the actual
minimum depth required to represent the image is
returned. Previously only the values 8, 16, and 32 were
returned. This means that a value of one is returned for a
monochrome image. Also fixed a bug in that the pixels were
incremented while the depth was incremented, resulting in the
first image pixels not being properly evaluated for depth.
(SetImageDepth): Extend to support converting the image to
arbitrary modulus depths.
(GetImageChannelDepth): New function to obtain the modulus depth
for a specified image channel.</p></li>
</ul>
</blockquote>
<p>2003-08-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/draw.c (MvgAutoWrapPrintf): StreamError reported when
DrawError was intended.</p></li>
<li><p>coders/logo.c (ReadLOGOImage): Report FileOpenError rather than
BlobError if requested image does not exist.</p></li>
</ul>
</blockquote>
<p>2003-08-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/cache.c (PersistCache): If HAVE_SYSCONF and _SC_PAGE_SIZE
are defined, then assume that sysconf works and don't use legacy
getpagesize() function.</p></li>
<li><p>magick/studio.h (_XOPEN_SOURCE): Should be defined as 600 in
order to match _POSIX_C_SOURCE=200112L according to the Single
UNIX Specification v3.  This is necessary for the vsnprintf
prototype to be visible.</p></li>
<li><p>magick/attribute.c (ReadByte): Fix compilation warnings due to
casting <cite>unsigned char *</cite> to <cite>char *</cite> by changing function
definition to accept <cite>unsigned char *</cite> instead.</p></li>
<li><p>magick/error.h (UndefinedException): UndefinedException should
be ExceptionType, not ExceptionBaseType.</p></li>
<li><p>magick/magick.c (IsValidFilesystemPath): Eliminate warning about
unused function when UseInstalledMagick is defined.</p></li>
<li><p>magick/error.c (ThrowLoggedException): Fix improper parameters
passed to LogMagickEvent() when reason is not available.</p></li>
</ul>
</blockquote>
<p>003-08-07  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/log.c, log.h: Added ability to log by either severity
or by category of event. Made the defualt on windows to log all
fatal errors, errors, and warnings to the event log. This will
include anything generated by exceptions currently, but not any
normal &quot;informational&quot; logging.</p></li>
</ul>
</blockquote>
<p>2003-08-07  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/log.c, log.h: Translation of event codes to mask vals
was not working. Code was left out of last update. It is now in.</p></li>
</ul>
</blockquote>
<p>2003-08-07  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/error.c: Protect against NULL string passed into the
message lookup function.</p></li>
</ul>
</blockquote>
<p>2003-08-07  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/locale.c: Switched use of IsAccessible to nonloggging
version to prevent recursive problems.</p></li>
</ul>
</blockquote>
<p>2003-08-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/Makefile.am (noinst_HEADERS): Distribute locale_c.h.</p></li>
<li><p>locale/Makefile: Output locale_c.h.</p></li>
<li><p>utilities/gm.c (main): Fix typo in Unix InitializeMagick
invocation.</p></li>
<li><p>configure.ac: Use ACX_PTHREAD pthreads test macro.</p></li>
<li><p>magick/(semaphore.c,spinlock.h,studio.h): Change HasPTHREADS
conditional define to HAVE_PTHREAD.</p></li>
<li><p>magick/Makefile.am (noinst_HEADERS): Include spinlock.h in
distribution.</p></li>
</ul>
</blockquote>
<p>2003-08-06  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>contribwin32ATL7ImageMagickObject/ImageMagickObject.cpp,
ImageMagickObject_.h, ImageMagickObject.def, ImageMagickObject.rc
gm.rc: Changes to get things compiling again since all windows
specific logging support has been eliminated. The special build
script BuildImageMagickObject.cmd now compiles the message file
for resource based messages. The result is in gm_messages.bin.
The script also generates a special version of gm.exe that uses
the COM dll as a regular DLL and links to it. This is the long
desired Moby DLL build idea.</p></li>
<li><p>magick/error.c, magick/error.h, magick/log.c, magick/log.h:
Upgrade of logging system to take over previous special logging
code for windows in nt_base.c. The new logic provides logging of
events to the debug api and the windows event log and also
provides a generic text file logging method.</p></li>
<li><p>magick/gm_messages.bin, magick/ImageMagick.rc: New compiled
message file based on data in localeC.mgk. RC file modified to
include this as a resource.</p></li>
<li><p>magick/locale.c, magick/locale_c.h: locale_c.h is generated by
the LOCALEH format of the locale coder. The logic in locale.c uses
the tables in the header lookup messages. On windows, all the
messages are stored as resources, while on UNIX they remain in a
string table.</p></li>
<li><p>locale/C.mgk: Removed duplicate messages and added some new
default messages that help to create a complete set of severity
strings.</p></li>
<li><p>magick/command.c, magick/magick.c: Get rid compiler warnings.</p></li>
</ul>
</blockquote>
<p>2003-08-05  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/command.c, magick/gm.c: Application level changes to
implement the client name - filename changes. The client name can
now be anything that the application wants and has nothing to do
with the saved filename of the application.</p></li>
<li><p>magick/nt_base.c, magick/nt_base.h, magick/magick.c: Ripped out
old nt specific debugging and logging logic. Moving to the
standard logging. New and major revisions to InitializeMagick to
make the code more maintainable, reliable, and reaable. It should
be functionally identical, but implements the new split client
name and filename methododology.</p></li>
<li><p>magick/utility.c, magick/utility.h: Added a couple of new
routines to support splitting the overloaded use of the client
name and client filename.</p></li>
<li><p>coders/xtrn.c: Minor code cleanup</p></li>
</ul>
</blockquote>
<p>2003-08-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Copyright.txt: Added missing copyright notice which is required
due to copying the rlecomp manual page into ImageMagick.</p></li>
<li><p>doc/config_files.imdoc: Started documentation for configuration
files.</p></li>
<li><p>magick/xwindow.c (XSignalHandler): Ensure that segment_info is
non-null before attempting to use it.  Much thanks to John Cristy
for bringing this problem to our attention.</p></li>
</ul>
</blockquote>
<p>2003-08-05  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/locale.c: Added several new formats to this coder to
generate windows message resource format messages and also to
generates a new header file format that will support a table based
version of the other magick/locale.c.</p></li>
<li><p>coders/xtrn.c: Minor code cleanup</p></li>
</ul>
</blockquote>
<p>2003-08-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Only configure C and C++ libtool tags.</p></li>
<li><p>PerlMagick/t/reference/composite/*.miff: Added some composition
test reference images.  These reference images will serve as
placeholders until better composition tests can be figured out.
It is not clear from the documentation what some of the
composition operators are supposed to do.</p></li>
</ul>
</blockquote>
<p>2003-08-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>README.txt: Add documentation regarding using TRIO.</p></li>
<li><p>configure.ac: Test for TRIO library if vsnprintf is not
available.</p></li>
<li><p>magick/studio.h: Remap vsnprintf to trio_vsnprintf if TRIO is
available.</p></li>
<li><p>coders/topol.c, coders/wmf.c, magick/magick.c, magick/nt_base.c,
magick/resource.c: Use traditional C comment form in C source
files.</p></li>
</ul>
</blockquote>
<p>2003-07-31  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/log.h (LogEventType::AllEvents): Increase the value of
AllEvents so that it spans the complete positive range of a signed
integer.</p></li>
<li><p>magick/xwindow.c, magick/xwindow.h: Incorporate patch from John
Cristy's ImageMagick to eliminate conditional dependence of
magick/xwindow.h on &lt;X11/extensions/XShm.h&gt;.</p></li>
<li><p>magick/magick_config_api.h.in: HasSharedMemory define no longer
needed.</p></li>
</ul>
</blockquote>
<p>2003-07-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/programming.html: Update Rmagick URL.</p></li>
<li><p>GraphicsMagick.spec.in : Update according to instructions from
Troy Edwards.</p></li>
</ul>
</blockquote>
<p>2003-07-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>GraphicsMagick.spec.in: Replaced GraphicsMagick.spec with
GraphicsMagick.spec.in, which is configured to produce
GraphicsMagick.spec.</p></li>
<li><p>configure.ac: Configure GraphicsMagick.spec.</p></li>
</ul>
</blockquote>
<p>2003-07-29  Troy Edwards  &lt;<a class="reference external" href="mailto:vallimar&#37;&#52;&#48;sexorcisto&#46;net">vallimar<span>&#64;</span>sexorcisto<span>&#46;</span>net</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>GraphicsMagick.spec: Updated to CVS build. Added the
GraphicsMagickWand files to the spec.  Only try to remove the
unneeded perl package files if we are using PerlMagick.</p></li>
</ul>
</blockquote>
<p>2003-07-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>GraphicsMagick.spec: Added RPM spec file authored by Troy
Edwards &lt;<a class="reference external" href="mailto:vallimar&#37;&#52;&#48;sexorcisto&#46;net">vallimar<span>&#64;</span>sexorcisto<span>&#46;</span>net</a>&gt;.</p></li>
<li><p>NEWS: Add note regarding EXIF fix.</p></li>
<li><p>magick/attribute.c (GenerateEXIFAttribute): Look for the profile
name &quot;EXIF&quot; rather than &quot;APP1&quot;.</p></li>
</ul>
</blockquote>
<p>2003-07-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/magick_config_api.h.in: XWindowInfo structure in
xwindow.h needs HasSharedMemory define.</p></li>
<li><p>magick/xwindow.c, magick/xwindow.h: Move inclusion of
&lt;X11/extensions/shape.h&gt; to xwindow.c.</p></li>
<li><p>coders/dps.c, magick/xwindow.h: Move DPS includes to
coders/dps.c</p></li>
<li><p>coders/Makefile.am: Substituted values are also set as
make variables, so use variables rather than substitutions.</p></li>
<li><p>magick/log.c (GetLogBlob): MAGICK_HOME needs to take
precedence over the client path for the uninstalled build.</p></li>
<li><p>magick/type.c (GetTypeBlob): MAGICK_HOME needs to take
precedence over the client path for the uninstalled build.</p></li>
<li><p>magick/blob.c (GetConfigureBlob): MAGICK_HOME needs to take
precedence over the client path for the uninstalled build.</p></li>
<li><p>magick/module.c (FindMagickModule): MAGICK_HOME needs to take
precedence over the client path for the uninstalled build.</p></li>
</ul>
</blockquote>
<p>2003-07-24  Lars Ruben Skyum  &lt;<a class="reference external" href="mailto:lars&#46;skyum&#37;&#52;&#48;stibo&#46;com">lars<span>&#46;</span>skyum<span>&#64;</span>stibo<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/attribute.c (TraceClippingPath): Improvements to clipping
path parsing.</p></li>
</ul>
</blockquote>
<p>2003-07-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/cache.c: Disable the Windows open() extensions when
compiling using Borland C++.</p></li>
<li><p>magick/log.c (LogMagickEvent): Unlock semaphore before
returning.</p></li>
<li><p>ltdl/ltdl.h: Updated to latest CVS version.</p></li>
<li><p>ltdl/ltdl.c: Updated to latest CVS version.</p></li>
<li><p>Libtool: Updated to use latest CVS libtool.</p></li>
</ul>
</blockquote>
<p>2003-07-17  Mike Chiarappa  &lt;<a class="reference external" href="mailto:mikechiarappa&#37;&#52;&#48;libero&#46;it">mikechiarappa<span>&#64;</span>libero<span>&#46;</span>it</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>BCBMagick: Contributed initial Borland C++ Builder 6.0 build
environment.</p></li>
</ul>
</blockquote>
<p>2003-07-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/color.c (GetColorInfoArray): Added a function to access
the color definition list as an array.
(GetColorList): Added access locks to ensure that list is not
re-ordered while it is being traversed.</p></li>
<li><p>www/Magick++/Image.html: Add some more information regarding raw
pixel access.</p></li>
</ul>
</blockquote>
<p>2003-07-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>wand/GraphicsMagickWand.pc.in (Cflags): Remove LFS_CPPFLAGS.</p></li>
<li><p>wand/GraphicsMagickWand-config.in: Remove LFS_CPPFLAGS.</p></li>
<li><p>magick/GraphicsMagick.pc.in (Cflags): Remove LFS_CPPFLAGS.</p></li>
<li><p>magick/GraphicsMagick-config.in: Remove LFS_CPPFLAGS.</p></li>
<li><p>configure.ac: Logic for setting LFS_CPPFLAGS was incomplete.</p></li>
<li><p>coders/topol.c: Updated topol coder contributed by Jaroslav
Fojtik.  Topol is coming to life!</p></li>
</ul>
</blockquote>
<p>2003-07-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/nt_base.h: Add a typedef for ssize_t</p></li>
<li><p>magick/deprecate.h: ExtendedSignedIntegralType and
ExtendedUnsignedIntegralType are now deprecated types so they are
moved to deprecate.h. Existing code which uses these types should
continue to work.</p></li>
<li><p>magick/blob.c (MapBlob): Change <cite>offset</cite> parameter from type
off_t to magick_off_t so that it is not LFS dependent.</p></li>
<li><p>magick/cache.c (GetPixelCacheArea): Return magick_off_t.
(PersistCache): Change <cite>offset</cite> parameter to type magick_off_t.</p></li>
<li><p>magick/cache.h (NexusInfo): Change <cite>length</cite> type from
ExtendedSignedIntegralType to magick_off_t.
(CacheInfo): Change <cite>offset</cite> and <cite>length</cite> types from
ExtendedSignedIntegralType to magick_off_t.</p></li>
<li><p>magick/blob.c (BlobToFile): Use ssize_t rather than
ExtendedSignedIntegralType for count.
(TellBlob): Return magick_off_t rather than
ExtendedSignedIntegralType.</p></li>
<li><p>configure.ac: Check for a ssize_t type.</p></li>
<li><p>magick/blob.h (_BlobInfo): Change <cite>offset</cite> and <cite>size</cite> members
from ExtendedSignedIntegralType to magick_off_t.</p></li>
<li><p>magick/blob.c (GetBlobSize): Return magick_off_t rather than
ExtendedSignedIntegralType.
(SeekBlob): Accept and return magick_off_t rather than
ExtendedSignedIntegralType.</p></li>
</ul>
</blockquote>
<p>2003-07-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/monitor.c (MagickMonitor): Change <cite>quantum</cite> argument from
type ExtendedSignedIntegralType to magick_int64_t. Change <cite>span</cite>
argument from ExtendedUnsignedIntegralType to magick_uint64_t.</p></li>
<li><p>magick/xwindow.c (XMagickMonitor): Change <cite>quantum</cite> argument from
type ExtendedSignedIntegralType to magick_int64_t. Change <cite>span</cite>
argument from ExtendedUnsignedIntegralType to magick_uint64_t.</p></li>
<li><p>magick/widget.c (XMonitorWidget): Change <cite>quantum</cite> argument from
type ExtendedSignedIntegralType to magick_int64_t. Change <cite>span</cite>
argument from ExtendedUnsignedIntegralType to magick_uint64_t.</p></li>
<li><p>magick/studio.h (QuantumTick): Change typecast from
ExtendedSignedIntegralType to magick_int64_t.</p></li>
<li><p>magick/resource.c (AcquireMagickResource): Change <cite>size</cite>
argument type from ExtendedSignedIntegralType to magick_int64_t.
(LiberateMagickResource): Change <cite>size</cite> argument type from
ExtendedSignedIntegralType to magick_int64_t.</p></li>
<li><p>magick/utility.c (FormatSize): Change <cite>size</cite> argument type from
ExtendedSignedIntegralType to magick_int64_t.</p></li>
<li><p>magick/nt_base.c: Change MagickOffset to magick_off_t.</p></li>
<li><p>magick/studio.h (magick_off_t): Change MagickOffset to magick_off_t.</p></li>
<li><p>coders/topol.c: Insert dummy member into palettRAS structure
since Visual C++ doesn`t seem to handle empty structures.</p></li>
<li><p>wand/GraphicsMagickWand.pc.in (prefix): Pass LFS CPPFLAGS.</p></li>
<li><p>wand/GraphicsMagickWand-config.in: Pass LFS CPPFLAGS.</p></li>
<li><p>wand/Makefile.am: Fix include path.</p></li>
<li><p>magick/GraphicsMagick.pc.in (prefix): Pass LFS CPPFLAGS.</p></li>
<li><p>magick/magick_config_api.h.in: Pass LFS configuration options
until the API is fixed so that it is not LFS sensitive anymore.</p></li>
<li><p>magick/GraphicsMagick-config.in: Pass LFS CPPFLAGS.</p></li>
<li><p>PerlMagick/Makefile.PL.in: Pass LFS CPPFLAGS.</p></li>
<li><p>magick/Makefile.am: Install magick_types.h.</p></li>
<li><p>magick/api.h: Include magick_types.h.</p></li>
<li><p>magick/studio.h: Include magick_types.h rather than integral_types.h.</p></li>
<li><p>VisualMagick/magick/magick_types.h.in: New header file (replacing
integral_types.h) to contain CPU and system-dependent primitive
typedefs.</p></li>
<li><p>magick/magick_types.h.in: New header file (replacing
integral_types.h) to contain CPU and system-dependent primitive
typedefs.</p></li>
<li><p>configure.ac: Use AC_SYS_LARGEFILE to test for large file
options. Update to determine integral typedefs for current CPU and
compiler options. Configure magick_types.h.</p></li>
<li><p>magick/attribute.c (TraceClippingPath): Apply patch from Lars
Ruben Skyum which fixes clipping path parsing for paths generated
by Adobe software which pre-dates the Photoshop file format
specification.</p></li>
</ul>
</blockquote>
<p>2003-07-08  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/semaphore.c: Modified the way the system handles the
initialization of Win32 critical sections to use a spin lock
on WIn32 to bootstrap the initialization of all other crtical
sections. This is not an issue on UNIX since static init is used.</p></li>
<li><p>magick/magic.c module.c magick.c log.c resource.c constitute.c
color.c cache.c delegate.c registry.c type.c: Small modifications
were made to eliminate the side effect of unlocking semaphores
as part of the releasing procedure. This also eliminated the
apparent bug of the system double locking certain semaphores.
The locked flag should now not be needed, but remains in place
for the time being as an added safegaurd.</p></li>
</ul>
</blockquote>
<p>2003-07-04  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>png.c: added missing #ifdef JNG_SUPPORTED/#endif directives.</p></li>
</ul>
</blockquote>
<p>2003-07-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>NEWS: Updated news to include fixes and enhancements since the
1.0 release.</p></li>
</ul>
</blockquote>
<p>2003-07-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/semaphore.c (UnlockSemaphoreInfo): Bugfix, modify
the <cite>locked</cite> flag while still under protection of the lock.
This fix is necessary for thread-safety.</p></li>
</ul>
</blockquote>
<p>2003-07-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jpeg.c (ReadJPEGImage): Conditionally copy exception.</p></li>
<li><p>wand/Makefile.am (noinst_HEADERS): Need to distribute
magick_compat.h.
(EXTRA_DIST): Need to distribute GraphicsMagickWand-config.1.</p></li>
<li><p>coders/wmf.c (ipa_bmp_draw): Use CopyException.
(ipa_device_begin): Use CopyException.
(lite_font_map): Use CopyException.</p></li>
<li><p>coders/jpeg.c (ReadJPEGImage): Use CopyException.</p></li>
<li><p>magick/image.c (GetImageException): Use CopyException.</p></li>
<li><p>magick/constitute.c (WriteImages): Use CopyException.</p></li>
<li><p>Makefile.am (DIST_SUBDIRS): wand needs to be included in
distribution.</p></li>
</ul>
</blockquote>
<p>2003-06-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/static.c (RegisterStaticModules): Invoke
RegisterTOPOLImage.</p></li>
<li><p>magick/magick.h (MagickInfo): Add member usage comments.</p></li>
<li><p>magick/error.c (CatchException): Restore saved errno from
exception-&gt;error_number.
(CopyException): Copy error_number.
(DestroyExceptionInfo): Reset error_number to zero.
(GetExceptionInfo): Initialize error_number to zero.
(ThrowException): Save errno to exception-&gt; error_number.
(ThrowLoggedException): Save errno to exception-&gt; error_number.</p></li>
<li><p>magick/error.h (ExceptionInfo): Borrow John Cristy's idea and
add a error_number member to ExceptionInfo to save the current
errno value. Otherwise CatchException may use some random errno.</p></li>
<li><p>coders/Makefile.am: Build topol.c.</p></li>
<li><p>coders/topol.c: Added initial TOPOL X image coder which is under
development by Jaroslav Fojtik. Not working yet.</p></li>
</ul>
</blockquote>
<p>2003-06-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/pwp.c (ReadPWPImage): Ensure that image is initialized
before invoking ThrowReaderException.</p></li>
<li><p>magick/image.c (CloneImage): Use CopyException.</p></li>
<li><p>magick/error.c (CopyException): Add function to support copying
ExceptionInfo structures.</p></li>
<li><p>magick/error.h (ExceptionInfo): Replaced recently-added <cite>whence</cite>
member with module, function, and line members in order to keep
the information seperate, and match the parameters used by the
logging system.
(ThrowException): Log thrown exceptions.</p></li>
<li><p>magick/error.c (ThrowLoggedException): New function used to
throw an exception, while recording and logging the location
where the exception is thrown.</p></li>
<li><p>doc/options.imdoc (operation): Document TemporaryFile and
Exception events.</p></li>
<li><p>magick/log.c (LogMagickEvent): Support logging ExceptionEvent.</p></li>
<li><p>PerlMagick/Magick.xs: Added &quot;Exception&quot; event type.</p></li>
<li><p>magick/log.h (LogEventType): Added ExceptionEvent.</p></li>
</ul>
</blockquote>
<p>2003-06-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/error.c (ThrowException): Handle <cite>whence</cite>
member. MagickFreeMemory already checks for null pointer so don't
check again.
(DestroyExceptionInfo): Handle <cite>whence</cite> member. MagickFreeMemory
already checks for null pointer so don't check again.</p></li>
<li><p>magick/error.h (ExceptionInfo): Add a <cite>whence</cite> member to support
the ability to record where the exception is was thrown.</p></li>
<li><p>VisualMagick/installer: Install Wand files.</p></li>
</ul>
</blockquote>
<p>2003-06-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/blob.c (GetConfigureBlob): GetConfigureBlob should always
return a value.</p></li>
<li><p>magick/type.c (GetTypeBlob): GetTypeBlob should always return a
value.</p></li>
<li><p>magick/log.c (GetLogBlob): GetLogBlob should always return
a value.</p></li>
<li><p>magick/magick.c (GetMagickInfoArray): Fixed array memory
allocation and clearing bug. Eliminate warnings.</p></li>
</ul>
</blockquote>
<p>2003-06-24  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagick/installer/inc/files-configs.isx: For a static
build, install the configuration files directly into the
application directory.</p></li>
<li><p>VisualMagick/installer/inc/uninstallrun-unregister-com.isx
(Filename): Change ImageMagickObject.dll path.</p></li>
<li><p>VisualMagick/installer/inc/run-register-com.isx (Filename):
Change ImageMagickObject.dll path.</p></li>
<li><p>VisualMagick/installer/inc/files-com.isx (Source): Install
ImageMagickObject.dll and MagickCMD.exe in the application
directory alongside gm.exe and the CORE DLLs.</p></li>
<li><p>INSTALL-unix.txt: Add additional information regarding LZW.</p></li>
<li><p>VisualMagick/magick/magick_config.h.in: Add additional notes
regarding UNISYS LZW patent.</p></li>
<li><p>PerlMagick/Magick.xs: Applied Dissolve composite operator fix
obtained from from John Cristy's ImageMagick which ensures that an
unused matte channel is set to Opaque, and uses this knowledge to
simplify the math.</p></li>
<li><p>VisualMagick/configure/configure.cpp: The <cite>wand</cite> library has a
linkage dependency on the <cite>magick</cite> library. Also don't include
the magick subdirectory so that headers must be included like
&lt;magick/api.h&gt; for safety.</p></li>
<li><p>coders/xtrn.c: Fix magick header inclusion.</p></li>
<li><p>lcmssrccmserr.c: Fix magick header inclusion.</p></li>
</ul>
</blockquote>
<p>2003-06-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>doc/options.imdoc: Fix to formatting. Fix spelling of origin.</p></li>
<li><p>PerlMagick/t/bzlib/read.t: Add test for reading BZipped file.</p></li>
<li><p>PerlMagick/t/subroutines.pl (testRead): Skip testing reads
of compressed BLOBs because reading compressed BLOBs is not
supported yet.</p></li>
<li><p>coders/bmp.c (ReadBMPImage): Only validate the file size value
for compressed BMPs.</p></li>
<li><p>VisualMagick/wand, wand: First stab at building the Wand API
under Visual C++.  Still does not build as a DLL.</p></li>
</ul>
</blockquote>
<p>2003-06-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/static.h: Add prototypes for RegisterXTRNImage and
UnregisterXTRNImage.</p></li>
<li><p>Makefile.am (DISTDIRS): Don't distribute the <cite>guide</cite>
subdirectory. It is available for checkout from CVS.</p></li>
<li><p>www: Utilities documentation is updated from &lt;imdoc&gt; masters.
Formatting could be improved, but the content seems ok.</p></li>
<li><p>doc/environment.imdoc: New file to describe environment
variables.</p></li>
<li><p>coders/cut.c (ReadCUTImage): Use MagickAllocateMemory and
MagickFreeMemory rather than malloc and free.</p></li>
<li><p>doc/gmdoc2html: Add GraphicsMagick styling to utility web pages.</p></li>
<li><p>doc/Makefile: Additional documentation Makefile enhancements.</p></li>
<li><p>AUTHORS: New file to acknowledge significant contributors
to the software. If an author is not listed here, please let
us know.</p></li>
<li><p>configure.ac: test -a is not POSIX compliant.</p></li>
</ul>
</blockquote>
<p>2003-06-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>doc: Source documentation for <cite>gm</cite> is now available via a <cite>doc</cite>
CVS module. A Makefile is provided which formats the
documentation and installs it into the <cite>www</cite> and <cite>utilities</cite>
subdirectories.</p></li>
</ul>
</blockquote>
<p>2003-06-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>wand: Added Magick Wand library available via
-lGraphicsMagickWand and &lt;wand/wand_api.h&gt;. Use
GraphicsMagickWand-config or GraphicsMagickWand.pc to obtain the
compilation options required to use the library. Magick Wand is
authored by John Cristy. Magick Wand is provided as a separate
library from -lGraphicsMagick in order to assure the stability of
the core GraphicsMagick library while allowing Magick Wand to
to evolve.</p></li>
<li><p>images: Replace existing logo images with cleaner ones.</p></li>
<li><p>www: Update links to point to updated logo images.</p></li>
<li><p>logos: New CVS directory to contain master logos.</p></li>
<li><p>scripts/txt2html: Updated inline logo image link.</p></li>
<li><p>scripts/format_c_api_docs: Updated inline logo image link.</p></li>
<li><p>version.sh: Support versioning all libraries independently.</p></li>
<li><p>coders/meta.c: Prefix include paths for safety.</p></li>
<li><p>magick/image.h: (TransmitType) Removed unused enumeration.
(ProfileType) Removed unused enumeration.
(QuantumType) Moved enumeration to constitute.h
(StorageType) Moved enumeration to constitute.h</p></li>
<li><p>magick/draw.c (DrawPeekGraphicContext): Added function to peek
at head of drawing context stack (function added for ImageMagick
compatability).</p></li>
<li><p>magick/image.c (CycleColormapImage): Change return type from
<cite>void</cite> to <cite>unsigned int</cite> so that error status is returned to user.
(DescribeImage): Change return type from
<cite>void</cite> to <cite>unsigned int</cite> so that error status is returned to user.</p></li>
<li><p>magick/list.c (ReplaceImageInList): Incorporated function from
John Cristy's ImageMagick to replace current image in the list.</p></li>
<li><p>coders/sgi.c (ReadSGIImage): Applied patch from John Cristy's
ImageMagick to save the compression type for SGI images.</p></li>
</ul>
</blockquote>
<p>2003-06-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/txt.c (WriteTXTImage): Apply patch from John Cristy's
ImageMagick to observe image depth while writing pixel colors.
This patch is not applied to the 1.0 branch because it represents
an output format change which could break a dependent application.
(IsTXT): Recognize files written by the TXT coder.
(ReadTXTImage): Reject files written by the TXT coder until support
for reading these files is implemented.
(IsTXT): Ensure that sscanf doesn't read outside of provided data
by using a fixed size buffer.</p></li>
</ul>
</blockquote>
<p>2003-06-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Don't add -lfpx to LIBS while configuring
because the C compiler may fail to link with it in later
tests.</p></li>
</ul>
</blockquote>
<p>2003-06-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/Magick.xs: RotateImage is documented to take
<cite>degrees</cite> argument, not <cite>degree</cite>.  SwirlImage is documented to
take <cite>degrees</cite> argument, not <cite>degree</cite>.  SolarizeImage is
documented to take a <cite>threshold</cite> argument, not <cite>factor</cite>.  Wave is
documented to take <cite>amplitude</cite> and <cite>wavelength</cite> arguments.  Don't
transform colorspace to RGB when retrieving <cite>pixel</cite> color value.
Release memory acquired to store <cite>length</cite> pointer.  Picked up
memory leak fix related to <cite>SV **reference_vector</cite> variable from
John Cristy's ImageMagick.</p></li>
<li><p>configure: Incorporate patch to handle inline better.</p></li>
<li><p>magick/utility.c (GetToken): Adjust code to avoid &quot;end-of-loop
code not reached&quot; warning.</p></li>
<li><p>magick/log.c (GetLogBlob): Eliminate warning regarding
unreached code.</p></li>
<li><p>magick/command.c (AnimateImageCommand): Eliminate warning regarding
unreached code.
(ConvertImageCommand): Eliminate warning regarding
unreached code.
(ImportImageCommand): Eliminate warning regarding
unreached code.</p></li>
<li><p>magick/type.c (GetTypeBlob): Eliminate warning regarding
unreached code.</p></li>
<li><p>magick/blob.c (GetConfigureBlob): Eliminate warning regarding
unreached code.</p></li>
<li><p>coders/meta.c (super_fgets): Eliminated warnings regarding
comparison and return of incompatible pointer types.
(super_fgets_w): Eliminated warnings regarding
comparison and return of incompatible pointer types.</p></li>
<li><p>magick/command.c (ConvertImageCommand): Eliminate warnings
noticed when using Sun's compiler.</p></li>
</ul>
</blockquote>
<p>2003-06-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>acinclude.m4: Add <cite>#undef inline</cite> in front of C++ tests.</p></li>
<li><p>coders/x.c (RegisterXImage): Only register the X coder if HasX11
is defined.</p></li>
</ul>
</blockquote>
<p>2003-06-07  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (GetImageGeometry) Y was a function of width
instead of height when processing EastGravity or WestGravity
(bug report from Cristy).</p></li>
</ul>
</blockquote>
<p>2003-06-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/utility.c (LocaleNCompare): Documented that comparison is
case-insensitive.
(LocaleCompare): Documented that comparison is case-insensitive.</p></li>
<li><p>magick/log.c (ParseEvents): LocaleNCompare already does
case-insensitive compare so lower-casing is not necessary.</p></li>
<li><p>Magick++: Updates to cause exceptions to be thrown if a bad
geometry specification is supplied.</p></li>
</ul>
</blockquote>
<p>2003-06-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/log.c (ReadConfigureFile): Move event parsing to
ParseEvents funtion.
(SetLogEventMask): Move event parsing to
ParseEvents funtion.</p></li>
<li><p>magick/utility.c (GetGeometry): Validate that the geometry
string only contains valid characters.</p></li>
<li><p>PerlMagick/t/subroutines.pl (testMontage): It seems that passing
an empty set of options to the SetImage method corrupts the image
options (surely a PerlMagick bug), so don't invoke SetImage unless
there are options to set.</p></li>
</ul>
</blockquote>
<p>2003-06-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/command.c (VersionCommand): Add build information to
version output.</p></li>
<li><p>configure.ac: Save configure/build parameters for later use in
version output.</p></li>
</ul>
</blockquote>
<p>2003-06-04  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/meta.c: Added some casts to make things compile better.</p></li>
</ul>
</blockquote>
<p>2003-06-03  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/meta.c: Was broken due to editing mistakes as well
as inherent incompatability with MagickReallocMemory macro.</p></li>
</ul>
</blockquote>
<p>2003-06-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/xpm.c (RegisterXPMImage): Module registration for PICON
should have been XPM.  Thanks to John Cristy for noticing this
bug.</p></li>
<li><p>coders/psd.c (ReadPSDImage): Applied John Cristy's patch to fix
a index calculation bug which is evident when QuantumDepth&gt;8.</p></li>
</ul>
</blockquote>
<p>2003-06-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/meta.c: Eliminated some compiler warnings.</p></li>
<li><p>magick/transform.c (ProfileImage): Eliminated some compiler
warnings.</p></li>
<li><p>magick/static.c (RegisterStaticModules): Invoke
RegisterXTRNImage if _VISUALC_ is defined.</p></li>
</ul>
</blockquote>
<p>2003-06-02  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>utilities/gm.c: made -format work again but had to add off flag
to MagickCommand to maintain backward compatability with previous
versions of GM.</p></li>
<li><p>magick/command.c: Added flag to tell MagickCommand whether GM is
expected to process metadata requests. The COM object *always* does.</p></li>
<li><p>magick/transform.c: Added error handling, memory leak avoidance
and performanc enhancment.</p></li>
</ul>
</blockquote>
<p>2003-06-01  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>NEWS: Added Bug Fixes item with info about the JNG encoder fix.</p></li>
</ul>
</blockquote>
<p>2003-06-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>NEWS: Listed significant changes (thus far) in version 1.1.</p></li>
<li><p>version.sh: Updated LIBRARY_CURRENT and LIBRARY_REVISION since
some command.c interfaces have changed, and a new interface has
been added. The only user of these interfaces should be <cite>gm</cite> but
it always pays to be careful.</p></li>
<li><p>utilities/gm.c (main): Use MagickCommand.</p></li>
<li><p>magick/command.c (MagickCommand): New function to provide
API-level command access to the command functions provided by the
GM utility with an interface similar to ConvertImageCommand.
(AnimateImageCommand): Changed function arguments to match
ConvertImageCommand.
(ConjureImageCommand): Changed function arguments to match
ConvertImageCommand.
(DisplayImageCommand): Changed function arguments to match
ConvertImageCommand.
(ImportImageCommand): Changed function arguments to match
ConvertImageCommand.</p></li>
<li><p>libxml/libxml2.def: Remove LIBRARY line since Visual C++ 6.0
doesn't like that the build library doesn't match the name
specified by LIBRARY.</p></li>
</ul>
</blockquote>
<p>2003-05-31  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/magick.c (GetMagickInfoArray): Resolve thread-safety
issue by accessing magick_list directly under the protection of a
lock rather than using the pointer returned by GetMagickInfo.
Added error handling for insufficient memory.</p></li>
<li><p>coders/tile.c (RegisterTILEImage): Added a usage note in formats
listing.</p></li>
<li><p>coders/viff.c (RegisterVIFFImage): Module definition for &quot;XV&quot;
was missing.</p></li>
<li><p>coders/ps2.c (RegisterPS2Image): Module definition for &quot;PS2&quot; was
missing.</p></li>
<li><p>coders/wmf.c (RegisterWMFImage): Added usage note in formats
listing.</p></li>
<li><p>coders/xpm.c (RegisterXPMImage): Hide PM alias for XPM in the
formats listing.</p></li>
<li><p>coders/logo.c (RegisterLOGOImage): Hide registrations for
GRANITE, LOGO, and NETSCAPE in the formats listing.</p></li>
<li><p>coders/jpeg.c (RegisterJPEGImage): Module definition for &quot;JPEG&quot;
was missing.</p></li>
<li><p>coders/html.c (RegisterHTMLImage): Module definition for &quot;HTML&quot;
was missing.</p></li>
<li><p>coders/bmp.c (RegisterBMPImage): Module names for &quot;BMP2&quot; and
&quot;BMP3&quot; should be &quot;BMP&quot;.</p></li>
</ul>
</blockquote>
<p>2003-05-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/magick.c (GetMagickInfoArray): New function to return
MagickInfo array.
(ListMagickInfo): Updated to use GetMagickInfoArray.
(ListModuleMap): New function to list module map to a file.</p></li>
<li><p>utilities/gm.c: Centered the file header and made note of this
stupendously significant accomplishment.</p></li>
<li><p>magick/command.c: Added a <cite>-list modulemap</cite> option. Added plural
forms of other list options for people who are are not limited to
the singular.  Also <cite>-list font</cite> and <cite>-list fonts</cite> now work for
people who think in terms of fonts rather than type.</p></li>
</ul>
</blockquote>
<p>2003-05-30  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>MNG encoder failed to set the JNG bit in the simplicity profile.</p></li>
<li><p>MNG encoder failed to write FRAM chunks when all images were JNG.</p></li>
<li><p>JNG encoder wrote the wrong alpha_sample_depth for opaque images.</p></li>
</ul>
</blockquote>
<p>2003-05-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/magic.c (ReadConfigureFile): Removed bogus embedded magic
data and ensured that errors with loading magic.mgk propogate to
the top.</p></li>
<li><p>magick/constitute.c (ReadImage): When building delegate error
report, handle the case where the filename is empty (such as for
&quot;LOGO:&quot;).</p></li>
<li><p>coders/png.c (WritePNGImage): Ensure that most severe exception
is reported via exception argument.
(ReadMNGImage): Ensure that most severe exception is reported via
exception argument.</p></li>
<li><p>magick/command.c (ConvertImageCommand): Ensure that most severe
exception is reported via exception argument.
(CompositeImageList): Ensure that most severe exception is
reported via exception argument.
(CompositeImageCommand): Ensure that most severe exception is
reported via exception argument.</p></li>
<li><p>magick/constitute.c (WriteImages): Ensure that most severe
exception is reported via exception argument.</p></li>
<li><p>utilities/gm.c: Centered file header because I didn't like it.</p></li>
<li><p>locale/C.mgk: Removed some defunct messages.</p></li>
<li><p>magick/blob.c (PingBlob): Report useful error message.
(BlobToImage): Report sensible error message for null blob.</p></li>
<li><p>magick/utility.c (AcquireString): Change UnableToAquireString to
UnableToAllocateString.</p></li>
<li><p>coders/xwd.c (ReadXWDImage): Report CorruptImage rather than
CorruptXWDImage.</p></li>
<li><p>coders/xpm.c (ReadXPMImage): Report CorruptImage rather than
CorruptXPMImage.</p></li>
<li><p>coders/xcf.c (load_level): Report CorruptImage rather than
CorruptXCFImage.</p></li>
<li><p>coders/wbmp.c (ReadWBMPImage): Report CorruptImage rather than
CorruptWBMPImage.</p></li>
<li><p>coders/pcd.c: Report CorruptImage rather than CorruptPCDImage.</p></li>
<li><p>coders/otb.c (ReadOTBImage): Report CorruptImage rather than
CorruptOTBImage.</p></li>
<li><p>magick/constitute.c (ReadInlineImage): Report CorruptImage
rather than CorruptInlineImage.</p></li>
<li><p>coders/pdb.c (ReadPDBImage): Incorporated undocumented fix from
ImageMagick which obtains the image depth from the image depth
attribute, and increases the packet memory allocation. Report
CorruptImage rather than CorruptPDBImageFile.</p></li>
</ul>
</blockquote>
<p>2003-05-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagick/bin/modules.mgk: Add mapping from SVGZ to SVG.</p></li>
<li><p>coders/modules.mgk: Add mapping from SVGZ to SVG.</p></li>
<li><p>coders/svg.c (RegisterSVGImage): Add registration for SVGZ
format.</p></li>
<li><p>PerlMagick/t/zlib/read.t: Added test to check reading a file
with .gz extension. The blob portion of the test currently fails.</p></li>
<li><p>coders/wpg.c (ReadWPGImage): Fix reading WPGs with embedded
Postscript. Ensure that scene numbers are sane. Bugs remain.</p></li>
<li><p>magick/blob.c (OpenBlob): Recognize the .svgz extension as a
gzipped format.  Not required in order to read .svgz files since
the blob file magic detects gzip files.</p></li>
<li><p>magick/command.c (MontageImageCommand): Wrong exception
macro was being invoked.  Steps have been taken to ensure that
this doesn't happen again.
(ImportUsage): Fix spelling of <cite>type</cite>.</p></li>
<li><p>magick/magick.c (DestroyMagick): Decided that initialization
state should be tracked via an enum so that DestroyMagick will
take effect even if InitializeMagick has never been called.</p></li>
</ul>
</blockquote>
<p>2003-05-27  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/png.c: png.c would dump core when writing a grayscale
image in png24 or png32 format.</p></li>
</ul>
</blockquote>
<p>2003-05-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/ept.c (WriteEPTImage): Fixed writing EPT preview image and
added logging.</p></li>
<li><p>magick/enhance.c (NegateImage): If image is in CMYK colorspace,
then negate the <cite>K</cite> channel as well.</p></li>
<li><p>PerlMagick/Magick.xs: Fix spelling of <cite>elevation</cite> argument to
Shade method.</p></li>
<li><p>magick/image.h (ImageInfo): Added more documenting comments.</p></li>
<li><p>magick/image.c (CloneImage): Don't clone huffman ascii85
encoding support structure since it is not useful outside of the
current image context. Cloning a structure via pointer assignment
causes a memory leak.</p></li>
</ul>
</blockquote>
<p>2003-05-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/shear.c: Incorporate math tweaks obtained from
ImageMagick which are purported to improve accuracy when rotating
and shearing using small angles. Also avoid unneccessarily
transforming CMYK images into RGB images.</p></li>
<li><p>magick/paint.c (ColorFloodfillImage): Fix hang while
floodfilling using a pattern image with color similar to the
border color.</p></li>
<li><p>coders/modules.mgk: Add missing mappings for PNG8,
PNG24, and PNG32.</p></li>
<li><p>VisualMagick/bin/modules.mgk: Add missing mappings for PNG8,
PNG24, and PNG32.</p></li>
</ul>
</blockquote>
<p>2003-05-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/log.c (GetLogBlob): Return an error if log.mgk can not
be accessed.</p></li>
<li><p>locale/C.mgk: Added UnableToAccessLogFile.</p></li>
<li><p>magick/blob.c (GetConfigureBlob): Only return result of
NTResourceToBlob if it is non-NULL.</p></li>
<li><p>magick/type.c (GetTypeBlob): Search $MAGICK_HOME for
type.mgk. Only return result of NTResourceToBlob if it is
non-NULL.</p></li>
<li><p>magick/magick.c (GetMagickInfo): Return an error if GetModuleInfo
reports an error.</p></li>
<li><p>magick/module.c (GetModuleInfo): Return an error if modules.txt
fails to load.</p></li>
<li><p>utility.c (SubstituteString): Fixed a bug which was introduced
while updating the code to use the memory allocation macros.</p></li>
</ul>
</blockquote>
<p>2003-05-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/GraphicsMagick-config.in (usage): Added example
usage to the help output.</p></li>
<li><p>magick/magick.c (InitializeMagick): Added a static flag to
ensure that the Magick library is initialized only one time.
(DestroyMagick): Ensure that Magick library resources are only
destroyed if it has previously been initialized.</p></li>
<li><p>magick/nt_base.c (DllMain): Fix contributed by Achim Domma. For
a DLL build, update PATH during Magick DLL initialization to
include the directory where the Magick core DLL resides. This
allows the loadable modules to find the core DLLs, even if the
core DLLs are not already in the PATH.</p></li>
<li><p>magick/image.c (TextureImage): Incorporate new implementation
authored by John Cristy of ImageMagick Studio.  This
implementation is a full 7X (run-time) or 14X (user-time) faster
than the original ImageMagick implementation, and is about 2X
faster than the speeded-up version I commited on the 19th.</p></li>
</ul>
</blockquote>
<p>2003-05-20  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagickconfigure : Fixed bug with add on (plug-ins) not
building automatically in DLL mode.</p></li>
</ul>
</blockquote>
<p>2003-05-19  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (TextureImage): Creation of tiled image textures
is speeded up by 3.7X.</p></li>
<li><p>coders/tile.c (ReadTILEImage): Use TextureImage.</p></li>
<li><p>VisualMagick/bin/modules.mgk: Map &quot;PATTERN&quot; to &quot;LOGO&quot;.</p></li>
<li><p>coders/modules.mgk: Map &quot;PATTERN&quot; to &quot;LOGO&quot;.</p></li>
<li><p>coders/logo.c (ReadLOGOImage): Add &quot;PATTERN&quot; tiling support in
order to be compatible with ImageMagick.</p></li>
<li><p>magick/image.c (SetImageInfo): Map &quot;MAGICK&quot; magick to &quot;IMAGE&quot; in
order to be compatible with ImageMagick.</p></li>
</ul>
</blockquote>
<p>2003-05-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/Copyright.html: Try to fix formatting of XFig entry.</p></li>
<li><p>www/windows.html: Update file names for 1.0.1 release.</p></li>
<li><p>index.html: Mention 1.0.1 release as latest release.</p></li>
<li><p>magick/magick_config_api.h.in: Add define for HasX11
so that it is possible to use functions in the installed
xwindow.h</p></li>
<li><p>*/*.c: Updated to use MagickAllocateMemory macro.</p></li>
</ul>
</blockquote>
<p>2003-05-17  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/png.c: stifled compiler warnings about uninitialized
chunk and blob variables.</p></li>
</ul>
</blockquote>
<p>2003-05-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/utility.h (MagickAllocateMemory): New macro to allocate
memory.
(MagickFreeMemory): New macro to free memory.
(MagickReallocMemory): New macro to reallocate memory.</p></li>
<li><p>*/*.c,*/*.h: Updated to use MagickFreeMemory and
MagickReallocMemory. Eliminated warnings when compiling with
GCC 3.3 using -Wall.</p></li>
<li><p>images: The logo image was determined to have a copyright
problem so replace with blank image until a replacement is
available.</p></li>
</ul>
</blockquote>
<p>2003-05-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagick/magick/magick_config.h.in (HAVE_SYS_TYPES_H):
Moved this define back from nt_base.h since removing it was
causing some problems for Magick++.</p></li>
</ul>
</blockquote>
<p>2003-05-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c: (SetMagickInfo): Don't mask failure to
read magic.mgk.</p></li>
<li><p>magick/constitute.c (ReadImage): Don't overwrite specific
exception info.</p></li>
<li><p>magick/nt_base.c (NTResourceToBlob): Add logging similar
to that used in IsAccessible() in order to make operation
more clear.</p></li>
<li><p>magick/module.c (FindMagickModule): Removed extraneous
&quot;Searching for module file&quot; log event.
(GetModuleBlob): Under Windows, don't clear or overwrite
an existing exception.</p></li>
<li><p>magick/nt_base.h: Imported some obscure defines from
magickmagick_config.h.</p></li>
<li><p>VisualMagick/magick/magick_config.h.in: Improved description
text and formatting.  Moved some obscure defines to
magick/nt_base.h.</p></li>
<li><p>locale/C.mgk: Added a &quot;RegistryKeyLookupFailed&quot; error message.</p></li>
<li><p>magick/type.c (GetTypeBlob): Report registry key lookup
failures. Also ensure correct return value when an error is
reported.</p></li>
<li><p>magick/log.c (GetLogBlob): Report registry key lookup failures.</p></li>
<li><p>magick/delegate.c (ReadConfigureFile): Report registry key
lookup failures.</p></li>
<li><p>magick/blob.c (GetConfigureBlob): Report registry key lookup
failures. Also ensure correct return value when an error is
reported.</p></li>
<li><p>magick/module.c (FindMagickModule): Report registry key lookup
failures. Also ensure correct return value when an error is
reported.</p></li>
<li><p>magick/nt_base.c (NTRegistryKeyLookup): Simplify base key lookup
code, and improve coding style.</p></li>
<li><p>coders/logo.c, Copyright.txt, www/Copyright.html: Acknowledge
and respect the XFig copyright.</p></li>
<li><p>VisualMagick/installer/inc/files-documentation.isx: QuickStart.txt
is no longer distributed so it is removed.</p></li>
</ul>
</blockquote>
<p>2003-05-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.h (RoundToQuantum): New macro to round positive
double to Quantum.</p></li>
<li><p>magick/xwindow.c, magick/xwindow.h, magick/studio.h: Use FreeBSD
portability fixes from FreeBSD ports collection.</p></li>
<li><p>configure.ac: Test for &lt;machine/param.h&gt; as used by some *BSD systems.</p></li>
<li><p>QuickStart.txt, www/QuickStart.html: Don't distribute QuickStart.txt or
www/QuickStart.html since the content doesn't currently apply to
GraphicsMagick.</p></li>
</ul>
</blockquote>
<p>2003-05-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>README.txt: Added text regarding where to obtain dcraw, a simple
but useful decoder for the proprietary raw file formats produced
by digital cameras (58 supported cameras!).</p></li>
<li><p>configure.ac: Added support for finding dcraw.</p></li>
<li><p>VisualMagick/bin/delegates.mgk: Added support for dcraw.</p></li>
<li><p>coders/delegates.mgk.in: Added support for dcraw.</p></li>
<li><p>version.sh (PACKAGE_RELEASE_DATE): Extract the most recent
update date from the ChangeLog file using awk.</p></li>
</ul>
</blockquote>
<p>2003-05-12  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>modules.mgk, magic.mgk : Sync up both of these for UNIX
as well as VisualMagick builds. Includes changes for the
meta.c code.</p></li>
</ul>
</blockquote>
<p>2003-05-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/formats.html: Documented embedded gray intensity images.</p></li>
<li><p>coders/logo.c: Added the embedded dithered gray intensity images
gray0, gray5, ..., through gray100 to support bilevel filling and
painting with an intensity resolution of 5%.</p></li>
<li><p>www/formats.html: Added description of images available via
&quot;IMAGE:&quot; format tag, as well as providing a tiled preview.</p></li>
<li><p>coders/logo.c: Renamed &quot;transparent&quot; image to &quot;checkerboard&quot;
since it is a better description.  Added a set of tiny bilevel
images (accessed via IMAGE:) for use when tiling, filling, or for
use as a texture image.  The complete set of image names available
via the IMAGE: coder are now BRICKS, CIRCLES, CROSSHATCH,
CROSSHATCH30, CROSSHATCH45, FISHSCALES, GRANITE, HEXAGONS,
HORIZONTAL, HORIZONTALSAW, HS_BDIAGONAL, HS_CROSS, HS_DIAGCROSS,
HS_FDIAGONAL, HS_HORIZONTAL, HS_VERTICAL, LEFT30, LEFT45,
LEFTSHINGLE, LOGO, NETSCAPE, OCTAGONS, RIGHT30, RIGHT45,
RIGHTSHINGLE, ROSE, SMALLFISHSCALES, CHECKERBOARD, VERTICAL,
VERTICALBRICKS, VERTICALLEFTSHINGLE, VERTICALRIGHTSHINGLE, &amp;
VERTICALSAW.  The HS_* variants are similar to the standard
pattern images provided with the Windows GDI.</p></li>
<li><p>coders/msl.c (MSLStartElement): Don't reset gravity if the user
provides an x,y coordinate. Passing coodinates was loosing the
gravity setting.</p></li>
</ul>
</blockquote>
<p>2003-05-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/modules.mgk: Support the IMAGE: format via the LOGO
module.</p></li>
<li><p>win2k/IMDisplay/IMDisplayView.cpp (DoDisplayImage):
Transparent tile is created by reading &quot;tile:image:transparent&quot;.</p></li>
<li><p>coders/logo.c (ReadLOGOImage): Add IMAGE: format to front for
embedded images so that adding new images doesn't proliferate coder
registrations. Legacy logo magick names (GRANITE, LOGO, NETSCAPE,
and ROSE) are still supported, but they are also available in the
IMAGE file space (e.g. IMAGE:ROSE).</p></li>
</ul>
</blockquote>
<p>2003-05-09  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagickconfigure : Further refinements that support both
the new &quot;big&quot; library and the normal dynamic DLL buidling styles.</p></li>
</ul>
</blockquote>
<p>2003-05-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/logo.c (ReadLOGOImage): Added a &quot;TRANSPARENT&quot; pattern
image which can be tiled to form the background of transparent
images.</p></li>
<li><p>win32/IMDisplay/IMDisplayView.cpp: When displaying images which
include an opacity channel, use a checker-board pattern as the
image background so non-opaque pixels become evident.</p></li>
</ul>
</blockquote>
<p>2003-05-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/meta.c : Add or fix commenting of DebugString so that
module does not require Windows.</p></li>
<li><p>lcms: Updated to release 1.10.</p></li>
</ul>
</blockquote>
<p>2003-05-07  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagickbin : Brought the MGK files back into sync with
the rest of the package and added types for meta.c.</p></li>
<li><p>VisualMagickbinwin32ATL : removed config files in order to
prevent very old ATL project from being picked up in the config</p></li>
</ul>
</blockquote>
<p>2003-05-06  William Radcliffe  &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagicklcmsLIBRARY.txt : a define to prevent popup message
box behaviour.</p></li>
<li><p>VisualMagickconfigure: New feature - -t consolidates all the
coders into on library for the static build in order to make the
build process tolerable.</p></li>
<li><p>codersxtrn.c : new support for BSTR - wdie character data</p></li>
<li><p>coderssvg.c : put back logic that allows the -size parameter to
control the pixel dimensions of the output image.</p></li>
<li><p>codersmeta.c : added support for wide character parsing of iptc
and 8BIM formats.</p></li>
</ul>
</blockquote>
<p>2003-05-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>version.sh : Update to reflect development status.</p></li>
</ul>
</blockquote>
<p>2003-05-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>GraphicsMagick 1.0 Released.</p></li>
<li><p>version.sh (LIBRARY_REVISION): Updated for the 1.0 release.</p></li>
<li><p>magick/studio.h: Add fix to avoid problems caused by zlib
under AIX.</p></li>
<li><p>magick/cache.h: Parameterized prototypes to make them easier
to follow.</p></li>
<li><p>filters/analyze.c: Replace C++ comments with C comments.</p></li>
<li><p>magick/command.c: For the composite, convert, identify, mogrify,
and montage commands, make sure a usage error is returned if a
usage message is printed. This is useful for ImageMagickObject
users who won't see the usage message if stdio is not supported.</p></li>
<li><p>locale/C.mgk: Added &quot;UsageError&quot; error.  Added missing closure
to &lt;Corrupt&gt; tag which caused most/many message lookups to fail.</p></li>
<li><p>magick/nt_base.h: Fixed a compile problem caused by masking
internals in delegate.h</p></li>
<li><p>magick/ImageMagick.rc: Added missing .mgk files.</p></li>
</ul>
</blockquote>
<p>2003-05-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/nt_base.c (lt_dlerror): Defining lt_dlerror to be
NTGetLastError was not a correct implementation since the
interface is defined to return a const pointer to a string, but
NTGetLastError returns an allocated string, causing a memory leak
if NTGetLastError is used in the place of lt_dlerror.  A new
lt_dlerror function is added to fix this.
(lt_dlsetsearchpath): lt_dlsetsearchpath should return an int
and accept a const char *.
(lt_dlsym): lt_dlsym is supposed to take a const char *.</p></li>
<li><p>magick/nt_base.h: lt_dlclose should return an <cite>int</cite>.</p></li>
<li><p>magick/nt_base.c (lt_dlclose): Return status from lt_dlclose.</p></li>
<li><p>magick/module.c (lt_dlclose): lt_dlclose is supposed to return
an <cite>int</cite>, not <cite>void</cite>. A return value of zero indicates success.</p></li>
<li><p>VisualMagick/tests/run_constitute.bat: Add batch script to
run constitute tests.</p></li>
<li><p>magick/module.c: Added a ltdl_initialized static flag to track
if libltdl has been initialized by lt_dlinit().
(TagToFunctionName): Use a stack buffer for the string rather than
allocating heap data.
(UnregisterModule): Report errors via exception info as the
interface suggests.
(UnloadModule): Report errors via exception info as the interface
suggests.
(DestroyModuleInfo): Only invoke lt_dlexit() if lt_dlinit() has
previously been invoked.</p></li>
<li><p>locale/C.mgk: Added FailedToCloseModule module error.</p></li>
<li><p>magick/module.c (UnloadModule): Report exception via exception
parameter rather than simply printing out an error message and
exiting.</p></li>
<li><p>magick/Makefile.am (noinst_HEADERS): integral_types.h had to be
listed *somewhere* in order to make it into the distribution.</p></li>
<li><p>Magick++/lib/Magick++/Image.h: InitializeMagick must be DLL
exported.</p></li>
</ul>
</blockquote>
<p>2003-05-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Makefile.am (magick-version): Perform version.isx substitutions
via Makefile.am rather than configure.</p></li>
<li><p>magick/magick_config_api.h.in: Added template header for
the installed magick_config.h.</p></li>
<li><p>magick/magick.c (InitializeMagick): Improved the signal handling
and registration method. Signal handlers are only registered for a
signal if the current signal handling disposition for that signal
is set to the default (SIG_DFL). When a signal is caught,
DestroyMagick is invoked, the handling for the signal is set back
to SIG_DFL, and then the signal is re-raised to trigger the
default handler for that signal. This causes the process to behave
as closely to the default as possible (e.g. generating a core
file) while ensuring that DestroyMagick is executed. This also
ensures that signal handlers registered by API users are not
overridden by invoking InitializeMagick.</p></li>
<li><p>configure.ac: Added tests for sigemptyset and
sigaction.
Add a check for the return type of signal handlers.
Test for the <cite>raise</cite> function.</p></li>
<li><p>www/formats.html: Add an entry for CUR, Microsoft
Cursor Icon format.</p></li>
</ul>
</blockquote>
<p>2003-05-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/semaphore.c (struct SemaphoreInfo): Added
<cite>locked</cite> and <cite>thread_id</cite> members. These are used to record
if the semaphore is locked, and to validate the thread
ID of the unlocker.</p></li>
<li><p>www/links.html: Added link to Nathan Day's MagickDocs
&quot;ImageMagick and GraphicsMagick documentation project&quot;
site.
Added a link to an on-line article regarding the PHP front-end
to ImageMagick.</p></li>
<li><p>coders/icon.c (ReadIconImage): Add support for Windows
.CUR format based on advice from Jean Piquemal.</p></li>
<li><p>magick/image.c (SetImageInfo): Added missing CloseBlob
in error path for failure to allocate temporary file.</p></li>
<li><p>coders/pcx.c (ReadPCXImage): Added support for reading
uncompressed PCX images based on code from Jean Piquemal.</p></li>
</ul>
</blockquote>
<p>2003-05-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/effect.c (AddNoiseImage): For gray images, wrong
pointer was being used to evaluate intensity, leading to a
black image with noise.</p></li>
<li><p>magick/image.c (ChannelImage): Return the channel
image in RGBColorspace. Also properly support extracting
the opacity channel for images which are not CMYK.</p></li>
</ul>
</blockquote>
<p>2003-04-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/Makefile.am (install-data-local): Install
magick_config_api.h rather than magick_config.h.</p></li>
<li><p>magick/api.h: Removed inclusion of integral_types.h from
magick/api.h.  It is included by magick/studio.h.</p></li>
<li><p>magick/delegate.h: Mapped out a block of private implementation
code.</p></li>
<li><p>configure.ac: Perform substitutions on magick_config_api.h.</p></li>
<li><p>magick/magick_config_api.h.in: New header file template to
use for installed magick_config.h.</p></li>
<li><p>magick/studio.h (MAGICK_IMPLEMENTATION): Added the define
MAGICK_IMPLEMENTATION used to enable private types, includes, and
defines in the headers. This supports hiding implementation stuff
that API users shouldn't see in the headers.</p></li>
<li><p>utilities/Makefile.am (check): Cleaned up the utilities
test/demo a bit as well as using the undocumented &quot;tmp:&quot; prefix to
cause GraphicsMagick to remove temporary input files once they
have been read.  This leaves just the final output file
&quot;demo.miff&quot; when the test completes.</p></li>
<li><p>coders/jpeg.c (WriteJPEGImage): If the image resolution is
overwritten with 72DPI, make sure that the resolution units are
set to PixelsPerInchResolution.</p></li>
<li><p>coders/jpeg.c (WriteJPEGImage): Don't overwrite the image
resolution if it is valid.</p></li>
<li><p>magick/command.c (MogrifyImageCommand): Added -resample
option to match documentation.</p></li>
<li><p>VisualMagick/configure: Added rpcrt4.lib to project settings
for Visual C++ 6.0 so that configure links.  The code which
needs these interfaces is to support Visual C++ 7.0 XML-style
project files.</p></li>
</ul>
</blockquote>
<p>2003-04-30  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>utilities/Makefile.am (check) Change % to %% in -label parameter.</p></li>
<li><p>www/gm.html, utilities/gm.1, etc. Documented use of %% to convey
the % sign in -format, -comment, -label strings.</p></li>
</ul>
</blockquote>
<p>2003-04-30  William Radcliffe &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/command.c: Changes from 2003-04-19 to free the arg
list when it was still pointed to by the option arg and accessed
on an exception. This caused gm to crash on any erroneous command
line argument.</p></li>
</ul>
</blockquote>
<p>2003-04-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/windows.html: Updated to match current installer.</p></li>
<li><p>VisualMagick/installer/inc/tasks-install-devel.isx (Name):
Added an installation checkbox so the user can select to install
development headers and libraries for C &amp; C++.</p></li>
<li><p>VisualMagick/installer/inc/files-perlmagick.isx (Source):
Only install PerlMagick PPD files if the user selects to install
PerlMagick.</p></li>
<li><p>VisualMagick/installer/inc/files-com.isx (Source): Only
install ImageMagickObject files if the user selects to install
ImageMagickObject.</p></li>
<li><p>magick/version.h.in: Added some documentation for the
functioning of MagickLibVersion and MagickLibVersionNumber.</p></li>
<li><p>configure.ac: Perform substutions to create
VisualMagick/installer/inc/version.isx from
VisualMagick/installer/inc/version.isx.in. This allows Windows
versioning info to be updated from info in version.sh.</p></li>
<li><p>Makefile.am (magick-version): For a VPATH build, update
VisualMagick/installer/inc/version.isx in the source directory if
it is out of date.</p></li>
</ul>
</blockquote>
<p>2003-04-28  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/cache.c: CloneImagePixels(): applied Cristy's bugfix
from IM-5.5.7.</p></li>
</ul>
</blockquote>
<p>2003-04-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/api.html: The demo program on the ImageMagick API page is
usually intended to be an exercise for the reader.  It rarely
compiles or works.  Sure enough the demo code was not even close
to compiling, didn't run, and did something totally different than
described. This is not a good way to treat new users.  Now the
demo program compiles and runs, and its description is correct.</p></li>
<li><p>www/magick.css, www/smile.c: Remove &quot;Pair&quot; advertisement which
was discovered appended at the end of these files.</p></li>
<li><p>coders/jpeg.c (ReadJPEGImage): Check for failure of
AllocateImage.  Close blob prior to error return.</p></li>
<li><p>configure.ac: Perform substitutions on magick/version.h</p></li>
<li><p>magick/version.h.in: New file to provide base for configured
magick/version.h</p></li>
<li><p>version.sh (PACKAGE_RELEASE_DATE): Support setting a package
release date.</p></li>
<li><p>configure.ac: Perform substitutions on PerlMagick/Magick.pm.in to
create PerlMagick/Magick.pm.in.</p></li>
<li><p>PerlMagick/Magick.pm.in: &#64;PACKAGE_VERSION&#64; is substituted while
configuring PerlMagick/Magick.pm.</p></li>
<li><p>magick/magic.mgk, VisualMagick/bin/magic.mgk: Removed risky
entry for PICT which has been demonstrated to lead to a false
match in the real-world.</p></li>
<li><p>coders/pict.c (ReadPICTImage): Ensure that PICT decoder don't
loop forever with an EOF condition if none of the PICT op-codes
encountered result in a condition which terminates the input loop.
If EOF is dectected while in the input loop a &quot;corrupt image&quot;
&quot;unexpected end of file&quot; error is reported.</p></li>
<li><p>VisualMagick/installer: Updated installer.</p></li>
</ul>
</blockquote>
<p>2003-04-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/magick.c, magick/blob.c, magick/studio.h: Added
Compilation fixes recommended by Harold Bien for for Borland C++.</p></li>
<li><p>www/contribute.html: Added text regarding contributing to
GraphicsMagick.</p></li>
<li><p>www/api/types.html: Documentation for GraphicsMagick API types
moved from www/api/types/*.html into this one file.  Types
documentation is still very much under development.</p></li>
<li><p>README.txt: Added note regarding the download location for free
Windows fonts which are kindly made available by Microsoft.</p></li>
<li><p>VisualMagick/installer/gm-dynamic-full-*.iss: Install
nt_base.h and nt_feature.h.</p></li>
</ul>
</blockquote>
<p>2003-04-24  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/windows.html: Updated for GraphicsMagick 1.0 and to
link to ImageMagickObject.html.</p></li>
<li><p>www/programming.html: Added link to ImageMagickObject.html.</p></li>
<li><p>www/ImageMagickObject.html: New file to provide some
documentation for ImageMagickObject.</p></li>
<li><p>www: Found and fixed broken URL links.</p></li>
</ul>
</blockquote>
<p>2003-04-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>FlashPIX: Applied patches from FreeBSD.  Bumped package
version to version to 1.2.0.8.</p></li>
<li><p>www/api.html: Updated to reflect GraphicsMagick</p></li>
<li><p>www/*.html: Updated with format_c_api_docs script.</p></li>
<li><p>Makefile.am (format_c_api_docs): Add a target to update
the C API documentation.</p></li>
<li><p>scripts/format_c_api_docs: Add script which extracts and
formats the C API documentation into HTML files in the www/api
subdirectory.</p></li>
</ul>
</blockquote>
<p>2003-04-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>version.sh (PACKAGE_VERSION): Update release version ID.</p></li>
<li><p>magick/version.h (MagickReleaseDate): Update release date.</p></li>
<li><p>magick/constitute.c (ConstituteImage): Fixed problems with
reading intensity (gray) pixel arrays.</p></li>
<li><p>magick/image.c (GrayscalePseudoClassImage): Use
ScaleQuantumToIndex rather than ScaleQuantumToMap.</p></li>
<li><p>magick/constitute.c (ConstituteImage): Use ScaleQuantumToIndex
macro to scale integral intensity values to colormap range.</p></li>
<li><p>magick/image.h (ScaleQuantumToIndex): New macro to scale a
quantum to the maximum range of a colormap index.  Useful when
writing to PsuedoClass grayscale images.</p></li>
<li><p>VisualMagick/tests/run_constitute.bat: Batch script to run
constitute tests.</p></li>
<li><p>VisualMagick/installer/*.iss: Updated for Beta1 release.</p></li>
</ul>
</blockquote>
<p>2003-04-22  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>utilities/Makefile.am (check) fixed typos (RM -&gt; RMDelegate
and removed stray &quot;gm&quot;), added -random-threshold, ordered-dither.</p></li>
<li><p>magick/effect.c: Random-threshold was not treating non-gray
PseudoColor images correctly.</p></li>
</ul>
</blockquote>
<p>2003-04-21  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>utilities/Makefile.am (check): Added code to put logo on demo
output.</p></li>
<li><p>magick/command.c (MontageImageCommand): Pass exception rather
than &amp;image-&gt;exception because image may be null, and it is
pointless to store the exception where it will not be reported to
the user anyway.</p></li>
<li><p>utilities/Makefile.am (check): Ported Glenn Randers-Pehrson's
utilities demo script into the Makefile to serve as a check
target.
(check): Add definition to find Generic.ttf.</p></li>
<li><p>locale/C.mgk: Fixed syntax error in &lt;Option&gt;&lt;FatalError&gt;
section.</p></li>
<li><p>www/development.html: New file to describe development
process.</p></li>
<li><p>index.html, www/*.html: Added link to development.html
and improved formatting a bit.</p></li>
</ul>
</blockquote>
<p>2003-04-21  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Fixed bug with compiling png.c with libpng versions
older than libpng-0.95.</p></li>
</ul>
</blockquote>
<p>2003-04-20  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/programming.html: Added links to Delphi and Scheme
programming interfaces.</p></li>
<li><p>configure.ac : Removed outdated test for jp2conf.h.</p></li>
</ul>
</blockquote>
<p>2003-04-19  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/command.c: Add argument expansion and deallocation code
to command functions which lacked this functionality.
Replace calls to Exit with a return to the invoking function.</p></li>
<li><p>utilities/gm.c: Expect each subcommand to expand and deallocate
its own argument list.  Treat subcommands more similarly.</p></li>
<li><p>magick/magick.c (InitializeMagick): Seed the random number
generator.</p></li>
<li><p>magick/utility.c (ExpandFilenames): Handle tilde expansion
properly. Handle relative glob specifications. Skip over &quot;*&quot;
argument to +profile properly. Don't expand VID: specifications
since the VID: coder will execute ExpandFilenames() later. Apply
format specifier prefix to globbed file names. Fix double frees
and rationalize memory management by always copying to a new
vector.</p></li>
</ul>
</blockquote>
<p>2003-04-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/magick.c (InitializeMagick): Decided to
move clean-up signal-handler registration from gm.c
to magick.c in order to ensure that resources are
cleaned up for all library users. This means that
if a user program wants to do something special for
signals registered to be caught by InitializeMagick
(SIGHUP, SIGINT, SIGQUIT, SIGABRT, SIGTERM, SIGXCPU,
&amp; SIGXFSZ) then the user program should register its
own signal handlers after invoking InitializeMagick.
The user is then responsible for making sure that
DestroyMagick is invoked if an unexpected signal is
caught.</p></li>
<li><p>tests/Makefile.am (check-constitute): Added
constitute tests.</p></li>
<li><p>magick/constitute.c: New test program to ensure
that ConstituteImage and DispatchImage are working
correctly.</p></li>
</ul>
</blockquote>
<p>2003-04-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/download.html: Added links to directories
at ftp.graphicsmagick.org.</p></li>
<li><p>index.html: Add notice regarding 1.0 Beta0
availability.</p></li>
<li><p>www/cvs.html: Updated CVS checkout information to
include the GraphicsMagick-1_0 branch.</p></li>
<li><p>coders/psd.c (ReadPSDImage): Applied patch
(SourceForge patch ID 722849) from Derry Bryson to
fix a memory leak. An image was being leaked.</p></li>
<li><p>magick/constitute.c (DispatchImage): Applied patch
(SourceForge patch ID 722655) from Derry Bryson to
correctly use the switch_map array rather than the
map array.  Without this patch, DispatchImage does
not work at all.</p></li>
<li><p>GraphicsMagick 1.0.0-beta0 release.</p></li>
<li><p>version.sh: Updated for beta0 release.</p></li>
<li><p>*.c magick/*.h: Update header inclusion to include
&quot;magick/&quot; prefix in order to ensure that there is no
confusion with headers from another package.</p></li>
</ul>
</blockquote>
<p>2003-04-16  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/effect.c: 4x4 ordered dither threshold was
incorrect.</p></li>
</ul>
</blockquote>
<p>2003-04-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/resource.c (InitializeMagickResources):
Added the ability to obtain the amount of physical
memory by executing an external command.</p></li>
<li><p>configure.ac: Check for getpagesize().
(MAGICK_PHYSICAL_MEMORY_COMMAND): Added a test for
an external command which (quickly) returns the
amount of physical memory installed on the machine.
Currently only activated for FreeBSD.
(MAGICK_PHYSICAL_MEMORY_COMMAND): Use sysctl to
determine total physical memory for Darwin.</p></li>
<li><p>magick/delegate.c (ListDelegateInfo): If COLUMNS
environment variable is set, then use it to obtain
the screen width.  Some shells dynamically update
COLUMNS, but COLUMNS may need to be explicitly
exported in order for it to be seen by subordinate
programs (such as gm).</p></li>
<li><p>magick/effect.c (AddNoiseImage): Use IsGrayImage()
to check if the image is gray.  Add missing columns
loop for intensity case (oops!).</p></li>
<li><p>magick/command.c (DisplayImageCommand): Fix
-dispose option processing bug reported by
Felix Heimbrecht.</p></li>
<li><p>coders/fpx.c: Check status from FPX_InitSystem().</p></li>
</ul>
</blockquote>
<p>2003-04-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Define PERLMAINCC to be the C compiler
if there are no C++ dependencies, or the C++ compiler
if there are C++ dependencies.</p></li>
<li><p>PerlMagick/Makefile.PL.in: Use PERLMAINCC to compile
and link perlmain.c.  This allows using the C++ compiler
to link, which is useful when the build depends on C++
libraries like libfpx.</p></li>
<li><p>ltmain.sh: Updated to libtool 1.5 release.</p></li>
<li><p>Makefile.am ($(PERLMAGICK)/$(PERLSTATICNAME)): Add
rules to make sure that static PerlMagick is linked
against the current GraphicsMagick library.</p></li>
<li><p>coders/miff.c (ReadMIFFImage): Properly scale
colormap entries.</p></li>
<li><p>magick/image.c (TransformRGBImage): Eliminate 32-bit
integer overflow condition for Q:32 build while
transforming CMYK pixels.</p></li>
</ul>
</blockquote>
<p>2003-04-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/t/ttf/read.t: Updated signatures and
reference image for FreeType 2.1.4.</p></li>
<li><p>(PerlMagick/t/write.t, PerlMagick/t/montage.t,
PerlMagick/t/rad/read.t, PerlMagick/t/rad/write.t):
Fix signatures which were thrown off by previous
change to how signatures are specified to functions
in subroutines.pl.</p></li>
<li><p>PerlMagick/t/cgm/read.t: Updated to use reference
image.</p></li>
<li><p>PerlMagick/Makefile.PL.in: Perform substitutions
on generated Makefile to ensure that the proper
-lGraphicsMagick is used for a static build.</p></li>
<li><p>ttf: Updated to FreeType 2.1.4.  Now stored in
CVS as delegates/freetype2 rather than delegates/ttf
so be sure to re-checkout the ttf directory so that
the correct files are used.</p></li>
<li><p>wmf/incude/libwmf/api.h: Updating FreeType caused
a problem since it introduced a copy of zlib and
api.h included zlib.h.  Fixed problem by adding
a typedef for gzFile and not including zlib.h.</p></li>
<li><p>utilities/gm.c: Fixed minor compilation problem
under Windows caused by a typo in the signal
handler registration code.</p></li>
</ul>
</blockquote>
<p>2003-04-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Makefile.am: When building a static PerlMagick,
build PerlMagick as part of the <cite>all</cite> target and
don't do a <cite>make clean</cite> of PerlMagick at install
time.</p></li>
<li><p>configure.ac (LIB_DPS): Add check to see if -lXt
is required by -ldps.  XFree86 -ldps requires -lXt.</p></li>
<li><p>FlashPIX: FlashPIX library now compiles under
FreeBSD 5.0.</p></li>
<li><p>magick/deprecate.c (ValidateColormapIndex): Remove
non-interface deprecated function.</p></li>
<li><p>magick/tempfile.c (AcquireTemporaryFileDescriptor):
Priortize use of mkstemp() over tempname() since *BSD
compilers whine about tempname() (although we do use
tempname() safely).</p></li>
<li><p>magick/color.c (ConstrainColormapIndex): Removed
function since it is no longer used.</p></li>
<li><p>magick/utility.c (TemporaryFilename): Removed
TemporaryFilename utility function since it is
no longer used and it makes *BSD compilers
complain.</p></li>
<li><p>magick/studio.h: Don't define _ISOC99_SOURCE,
_POSIX_C_SOURCE, or _XOPEN_SOURCE when compiling
under FreeBSD since this maps out a <cite>ushort</cite>
definition required by /usr/include/sys/ipc.h.</p></li>
</ul>
</blockquote>
<p>2003-04-11  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/png.c: Some grayscale PNG images and the
JNG alpha channel were decoded improperly at Q:32.</p></li>
<li><p>magick/constitute.c (PopImagePixels): Changed many
instances of (Quantum) typecast to (unsigned char).</p></li>
</ul>
</blockquote>
<p>2003-04-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/t/tiff/read.t: Added signature for 12-bit
TIFF test and a Q:32 build.</p></li>
<li><p>PerlMagick/t/subroutines.pl: Extended routines
which are signature based to accept signatures for
Q:32 as well.</p></li>
<li><p>PerlMagick/t/wmf/read.t: Relax error values slightly
to pass at Q:32.</p></li>
<li><p>coders/miff.c (PushImageRLEPixels): Fix reading
RLE MIFF at Q:32.  A fragment of old code was being
used to obtain the length.
(WriteRunlengthPacket): Fix writing RLE MIFF at Q:32.
In most cases the wrong scaling macro was being used.</p></li>
<li><p>tests/Makefile.am (check-miff): Added MIFF tests
for supported compression options.</p></li>
</ul>
</blockquote>
<p>2003-04-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/color.c (QueryColorDatabase): Extended to
support parsing Q:32 hex color specification strings.
Also add error reporting for failure to parse the
color specification. This resolves a bug that drawing
via the draw.c APIs was not working for Q:32 builds.</p></li>
<li><p>utilities/gm.c (main): Add signal handlers to
make sure that program cleans-up on exit by invoking
DestroyMagick.</p></li>
<li><p>magick/draw.c (DrawSetFillColor): Quote color
specification.
(DrawSetStrokeColor): Quote color specification.
(DrawSetTextUnderColor): Quote color specification.</p></li>
<li><p>ltmain.sh: Update to latest CVS libtool.</p></li>
</ul>
</blockquote>
<p>2003-04-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/enhance.c (NormalizeImage): Only normalize the opacity
channel if image-&gt;matte is true. This results in some (15%)
speedup. While it can be argued that the <cite>K</cite> in CMYK should be
normalized, it can also be argued that this is senseless since <cite>K</cite>
is not a &quot;linear&quot; measure like C, M, &amp; Y are, and there may not be
any any value to normalizing CMY at all.
(EqualizeImage): Only equalize the opacity channel if image-&gt;matte
is true.  This results in a 23% speedup.
(GammaImage): Minor loop optimization.
(LevelImage): Don't level the opacity channel.  Doing so doesn't
make any sense.
(LevelImageChannel): Put loops inside switch statement rather than
around it.</p></li>
<li><p>PerlMagick/t/tiff/read.t: Added grayscale 12-bit and 16-bit TIFF
read tests.</p></li>
</ul>
</blockquote>
<p>2003-04-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/tiff.c (ReadTIFFImage): Add support for reading
12-bit grayscale TIFFs. Fix reading 16-bit grayscale TIFFs
when QuantumDepth=8.</p></li>
<li><p>VisualMagick/installer/gm-dynamic-full-8.iss,
VisualMagick/installer/gm-dynamic-full-16.iss: Many C header
files were not being included in the distribution.  Oops!</p></li>
</ul>
</blockquote>
<p>2003-04-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>(index.html, www/*.html): Update to new web page style.</p></li>
<li><p>scripts/txt2html: Update to output new web page style.</p></li>
<li><p>ltmain.sh: Updated to latest CVS libtool.</p></li>
<li><p>magick/tempfile.c (DestroyTemporaryFiles): Function was
crashing if it was executed twice.</p></li>
</ul>
</blockquote>
<p>2003-04-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/delegates.mgk.in: Ralcgm was appending &quot;.ps&quot; to the
provided output file name, so change cgm delegate command so that
the input file is delivered via standard input, output is
re-directed to a file, and anything printed to stderr (such as
the Ralcgm program name and version) is sent to /dev/null.</p></li>
<li><p>INSTALL-unix.txt: Added/corrected/improved documentation
regarding --disable-installed, --enable-shared, and
--with-modules.</p></li>
<li><p>VisualMagick/magick/magick_config.h.in: Add more documentation
and explanatory notes in order to lessen confusion.</p></li>
<li><p>Many files: Replaced &quot;UseInstalledImageMagick&quot; with
&quot;UseInstalledMagick&quot; for obvious reasons.</p></li>
</ul>
</blockquote>
<p>2003-04-04  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/command.c, utilities/gm.c: Print &quot;help&quot; screen for a
tool when user types &quot;gm tool&quot; or &quot;gm tool -help&quot;</p></li>
<li><p>magick/command.c, magick/effect.c: add -ordered-dither option.</p></li>
</ul>
</blockquote>
<p>2003-04-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>locale/C.mgk: Fixed message associated with
&quot;UnableToCreateTemporaryFile&quot;.</p></li>
<li><p>magick/tempfile.c (AcquireTemporaryFileDescriptor): Decided
to return a pathname (if possible), even on failure, for use
in error reports.  The function return status should be used
to determine if the function has succeeded.</p></li>
<li><p>locale/locale.mgk: Updated copyright header.</p></li>
<li><p>(magick/annotate.c, magick/attribute.c, magick/blob.c,
magick/cache.c, magick/constitute.c, magick/delegate.c,
magick/display.c, magick/image.c, magick/locale.c
magick/tempfile.c, magick/tempfile.h, magick/utility.c,
magick/xwindow.c, coders/dcm.c, coders/ept.c,
coders/histogram.c, coders/mpeg.c, coders/pdf.c,
coders/pict.c, coders/preview.c, coders/ps2.c,
coders/ps3.c, coders/ps.c, coders/pwp.c, coders/sfw.c,
coders/svg.c, coders/tiff.c, coders/url.c, coders/wpg.c):
Ensure that failure to allocate/create temporary file is
properly detected and reported.</p></li>
</ul>
</blockquote>
<p>2003-04-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/type.c (GetTypeBlob): Prioritize hard-coded path
over Windows registry values.</p></li>
<li><p>magick/log.c (GetLogBlob): Prioritize hard-coded path
over Windows registry values.</p></li>
<li><p>magick/blob.c (GetConfigureBlob): Prioritize hard-coded path
over Windows registry values.</p></li>
<li><p>magick/delegate.c (ReadConfigureFile): Perform substitutions
for &quot;&#64;GMDelegate&#64;&quot;, &quot;&#64;GMDisplayDelegate&#64;&quot;, &quot;&#64;MPEGDecodeDelegate&#64;&quot;,
&quot;&#64;MPEGEncodeDelegate&#64;&quot;, and &quot;&#64;HPGLDecodeDelegate&#64;&quot; while reading
delegates.mgk under windows.
(ListDelegateInfo): Format delegate command line to multiple
lines if necessary rather than truncating.</p></li>
<li><p>configure.ac (MagickBinPathDefine): Added support for
a MagickBinPath definition.</p></li>
<li><p>configure.ac (GSVersion): Added test to obtain version
of installed Ghostcript.</p></li>
<li><p>magick/tempfile.c (AcquireTemporaryFileDescriptor): Open
flag should have been O_RDWR, not O_WRONLY!</p></li>
</ul>
</blockquote>
<p>2003-04-03  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/utility.c: Simplified skipping over the &quot;*&quot; in
the +profile &quot;*&quot; option when expanding filenames.</p></li>
</ul>
</blockquote>
<p>2003-04-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>VisualMagick/bin/delegates.mgk: Update similarly to
coders/delegates.mgk.in.</p></li>
<li><p>coders/delegates.mgk.in: Replaced <cite>mpeg-decode</cite> delegate
specification with <cite>mpeg</cite> delegate specification.</p></li>
<li><p>PerlMagick/t/mpeg/read.t: Since -r option is no longer
supplied to mpeg2decode, the signatures must be updated.</p></li>
<li><p>magick/utility.c (ExpandFilenames): Skip over no-argument
commands properly.</p></li>
<li><p>coders/mpeg.c: Removed ReadMPEGImage since this is handled
entirely by delegate now.</p></li>
<li><p>magick/command.c: Add convert -temporary option for use
when input files are temporary files which should be
automatically removed.</p></li>
<li><p>magick/delegate.c (InvokeDelegate): Ensure that temporary
file access is secure.</p></li>
<li><p>coders/ept.c (ReadEPTImage): Ensure that temporary file
specified by image_info-&gt;filename is liberated before
allocating a new temporary file name.</p></li>
<li><p>coders/ps.c (ReadPSImage): Ensure that temporary file
specified by image_info-&gt;filename is liberated before
allocating a new temporary file name.</p></li>
<li><p>coders/pdf.c (ReadPDFImage): Change TemporaryFilename
to AcquireTemporaryFileName.</p></li>
<li><p>magick/tempfile.c (LiberateTemporaryFile): Now takes
a <cite>char *</cite> argument rather than <cite>const char *</cite>, and
erases the provided filename if it is the name of a valid
temporary file. This helps avoid errors. The return
status may be used to determine if a file was removed.
(AcquireTemporaryFileDescriptor): Decided that adding a
.tmp extension to temporary file names is unnecessary.</p></li>
<li><p>coders/jp2.c (WriteJP2Image): Destroy pixel matrix
after encoding image.  Cristy says that there is memory
corruption otherwise.</p></li>
</ul>
</blockquote>
<p>2003-04-01  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/png.c: Use new temporary file manager for JNG components.
Merge with IM 5.5.7 (mostly cosmetic changes).</p></li>
</ul>
</blockquote>
<p>2003-03-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/cache.c (OpenCache): Add some Windows-specific
open options.</p></li>
<li><p>magick/resource.c (InitializeMagickResources): Increase
the number of &quot;lowio&quot; file handles available for use under
Windows.</p></li>
<li><p>ltdl/ltdl.c: Incorporate more Darwin fixes from CVS libtool.</p></li>
<li><p>coders/pcx.c (ReadPCXImage): Incorporate bugfix from
ImageMagick -- Not enough memory allocated for reading PCX
(bug report by Trevor Willis).</p></li>
<li><p>magick/magick.c (InitializeMagick): Only invoke
SetLogEventMask() to set debug options based on
getenv(&quot;MAGICK_DEBUG&quot;) if the environment variable is set.</p></li>
</ul>
</blockquote>
<p>2003-03-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/tempfile.c: Include tempfile.h rather than temporary.h</p></li>
<li><p>magick/magick.c: Include tempfile.h rather than temporary.h</p></li>
<li><p>coders/dcm.c, coders/ept.c, coders/histogram.c, coders/mpeg.c,
coders/pdf.c, coders/pict.c, coders/preview.c, coders/ps.c,
coders/ps2.c, coders/ps3.c, coders/pwp.c, coders/sfw.c,
coders/svg.c, coders/tiff.c, coders/url.c, coders/wpg.c,
magick/annotate.c, magick/attribute.c, magick/blob.c,
magick/cache.c, magick/constitute.c, magick/delegate.c,
magick/display.c, magick/image.c, magick/magick.c,
magick/utility.c, magick/xwindow.c: Updated to use new temporary
file allocation APIs.</p></li>
<li><p>magick/tempfile.c: New temporary file allocation subsystem for
allocating, tracking, and deallocating temporary files.  Use of
this subsystem should reduce the likelyhood that temporary
files will be left behind once the process exits.
If the environment variable MAGICK_TMPDIR is set, then its
value is used as the location to place temporary files.</p></li>
<li><p>magick/utility.c (IsAccessibleAndNotEmpty): New function
for testing for file exists, is a regular file, and is not empty.
Used to test if a temporary file has been updated by a delegate.</p></li>
<li><p>magick/log.c (SetLogEventMask): Add support for setting
TemporaryFileEvent.</p></li>
<li><p>PerlMagick/Magick.xs: Added TemporaryFile log event type.</p></li>
<li><p>magick/log.h (LogEventType): Add TemporaryFileEvent event
classification.</p></li>
</ul>
</blockquote>
<p>2003-03-29  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/resize.c (SampleImage) and magick/render.c (DrawAffineImage():
Applied Cristy fix for bug that offset images to the top and left.</p></li>
<li><p>magick/resize.c (ScaleImage): Fixed bug that caused intensity
levels to be one unit too high.</p></li>
<li><p>coders/png.c: make JNG support depend on HasJPEG. Remove temp files.</p></li>
</ul>
</blockquote>
<p>2003-03-27  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/resize.c (ResizeImage): Applied fix authored by John
Cristy for distortion when using the bessel filter.</p></li>
<li><p>magick/display.c: Applied fix authored by John Cristy which
eliminates bogging down when using the magnifier window on
large images.</p></li>
<li><p>Several files: A few files included multiple copies of the
copyright header text due to either pilot error, or equipment
failure.</p></li>
</ul>
</blockquote>
<p>2003-03-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>tests/Makefile.am : Removed some debug code which was
accidentally committed to CVS.</p></li>
<li><p>Copyright.txt: Add copyright statements to all the files,
including some apparently missing copyrights.</p></li>
</ul>
</blockquote>
<dl class="simple">
<dt>2003-03-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</dt>
<dd><ul class="simple">
<li><p>magick/Makefile.am: Added temporary.c and temporary.h. These
are not finished yet.</p></li>
<li><p>magick/cache.c: Transferred optimization from ImageMagick
to read/write all requested pixel cache rows in one system
call when accessing the cache using file I/O, and the
requested columns equals the image columns.</p></li>
<li><p>magick/resource.c: (ResourceInfo): Use type <cite>double</cite> rather
than <cite>long double</cite>. For many systems, the range of <cite>long double</cite>
is the same as <cite>double</cite>.  On others, use of <cite>long double</cite> incurs
the cost of function calls since there is no hardware support.</p></li>
</ul>
</dd>
</dl>
<p>2003-03-22  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/effect.h, effect.c, command.c: Revised -random-dither
to require parameters: channel LOWxHIGH.  Channel can presently
be &quot;intensity&quot;, &quot;opacity&quot;, or &quot;all&quot;.</p></li>
</ul>
</blockquote>
<p>2003-03-20  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>ltdl/ltdl.c: Updated to latest CVS version.  Claimed to
support loading modules under MacOS-X.</p></li>
<li><p>magick/resource.c (InitializeMagickResources): Enable code
under Windows which queries system limits.</p></li>
<li><p>magick/cache.c (S_MODE): Fixed portability problems with
definition.</p></li>
<li><p>VisualMagick/bin/delegates.mgk: Fix typo in &quot;mpeg-decode&quot;
decode rule.</p></li>
<li><p>libtool: Update to latest CVS version.</p></li>
<li><p>configure.ac: Test zlib for gzseek and gztell.</p></li>
<li><p>magick/effect.c (ChannelThresholdImage): The is_grayscale flag
was not be evaluated correctly.</p></li>
</ul>
</blockquote>
<p>2003-03-19  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.h (RoundSignedToQuantum): Added handy
RoundSignedToQuantum macro for munging doubles into Quantums.</p></li>
<li><p>magick/effect.c (ThresholdImage): Added optimizations for
thresholding all pixels to white or black. Threshold using an
integral value rather than a double so compares are faster.
(ChannelThresholdImage): Threshold against integral values since
compares are faster. Invoke ThresholdImage for simple thresholding
across all channels since it is faster.</p></li>
</ul>
</blockquote>
<p>2003-03-19  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/meta.c: #ifdef'ed out some dead code.</p></li>
<li><p>magick/annotate.c: #ifdef'ed out some code that is only
used when HasTTF is defined.</p></li>
<li><p>Added RandomThresholdImage() method and -random-threshold
commandline option.</p></li>
</ul>
</blockquote>
<p>2003-03-19  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac (LIB_TIFF): Check for TIFFReadRGBATile and TIFFReadRGBAStrip
in libtiff before deciding to use it.</p></li>
<li><p>magick/blob.c (WriteBlob): Move pointer increment into
paranthesis.
(ReadBlob): Move pointer increment into paranthesis.</p></li>
<li><p>magick/gem.c (HSLTransform): Removed inline statement.
(TransformHSL): Removed inline statement.</p></li>
<li><p>magick/random.[c|h]: Removed files from CVS.</p></li>
<li><p>magick/command.c: Don't include random.h.</p></li>
<li><p>PerlMagick/t/reference/jng: Update reference files to current output.</p></li>
</ul>
</blockquote>
<p>2003-03-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Added tests for pread and pwrite functions.</p></li>
<li><p>magick/image.c (GrayscalePseudoClassImage): Properly invoke
SyncImagePixels.</p></li>
<li><p>magick/cache.c (SyncCacheNexus): Add back in is_monochrome and
is_grayscale flag resetting which was lost by copying over
ImageMagick's cache.c.
(FilePositionRead): Inline wrapper for reading a chunk of data at
an offset.
Cleans up some messy code, and makes it easy to use pread().
(FilePositionWrite): Inline wrapper for writing a chunk of data at
an offset.
Cleans up some messy code, and makes it easy to use pwrite().
Cache now uses pread() and pwrite() to access the cache if these
calls are available.</p></li>
<li><p>magick/resource.c (InitializeMagickResources): Support setting
resource limits via the environment variables MAGICK_LIMIT_DISK,
MAGICK_LIMIT_FILES, MAGICK_LIMIT_MEMORY, and MAGICK_LIMIT_MAP.</p></li>
</ul>
</blockquote>
<p>2003-03-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/stream.c (AcquirePixelStream): Store total pixels in
64-bit type.
(SetPixelStream): Store total pixels in 64-bit type.</p></li>
<li><p>coders/tiff.c (WriteTIFFImage): CoderError should be
MissingDelegateError.</p></li>
<li><p>coders/ps3.c (Huffman2DEncodeImage): CoderError should be
MissingDelegateError.
(WritePS3Image): CoderError should be MissingDelegateError.</p></li>
<li><p>coders/ps2.c (Huffman2DEncodeImage): CoderError should be
MissingDelegateError.</p></li>
<li><p>coders/pdf.c (Huffman2DEncodeImage): CoderError should be
MissingDelegateError.</p></li>
<li><p>coders/fpx.c (ReadFPXImage): CoderError should be
MissingDelegateError.
(WriteFPXImage): CoderError should be MissingDelegateError.</p></li>
<li><p>coders/dps.c (ReadDPSImage): CoderError should be
MissingDelegateError.</p></li>
<li><p>magick/image.c (AnimateImages): DelegateError should be
MissingDelegateError.</p></li>
<li><p>magick/annotate.c (RenderX11): DelegateError should be
MissingDelegateError.</p></li>
<li><p>magick/image.c (DisplayImages): DelegateError should be
MissingDelegateError.</p></li>
</ul>
</blockquote>
<p>2003-03-17  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c Relocated misplaced break in ChannelImage()
and sped up SetImageOpacity by avoiding blend operation when
setting the image fully opaque.</p></li>
</ul>
</blockquote>
<p>2003-03-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/cache.c: Snarfed cache.c updates from ImageMagick.</p></li>
<li><p>magick/command.c: Added -list resource support.</p></li>
</ul>
</blockquote>
<p>2003-03-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/Makefile.am (random.c): Removed building, packaging,
and intialization of random.c functions since it is not actually
used.</p></li>
<li><p>magick/semaphore.c (InitializeSemaphore): Only initialize
critical section if active_semaphore is not already true.</p></li>
<li><p>magick/resource.c: Snarf resource.c updates from ImageMagick.</p></li>
<li><p>PerlMagick/Magick.xs: Added missing log event types.</p></li>
<li><p>magick/log.h (enum): Added ResourceEvent enumeration.</p></li>
<li><p>magick/log.c (LogMagickEvent): fflush(stdout) at the end of
each log.  Otherwise output may not be seen for a long time.
(SetLogEventMask): Add support for &quot;-debug resource&quot;.</p></li>
<li><p>coders/tiff.c (RegisterTIFFImage): Don't register encode and
decode handlers for TIFF if TIFF library is not available.</p></li>
<li><p>magick/constitute.c (WriteImage): Fix cut-n-paste error
in log message (&quot;decoder&quot; --&gt; &quot;encoder&quot;).</p></li>
</ul>
</blockquote>
<p>2003-03-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>index.html: Added a link to the GraphicsMagick mailing lists.</p></li>
<li><p>Magick++/demo/zoom.cpp: Added dashed option support, including
a -resample option for image resampling.</p></li>
</ul>
</blockquote>
<p>2003-03-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Makefile.am (DIST_SUBDIRS): Filters subdirectory needs to
be distributed.</p></li>
</ul>
</blockquote>
<p>2003-03-14  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/render.c Ported Cristy's bugfix to DrawAffineImage().</p></li>
</ul>
</blockquote>
<p>2003-03-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (DestroyImage): Comment out new assertions until
we are certain that there are no ill effects.</p></li>
<li><p>coders/mat.c (ReadMATImage): Set image-&gt;depth to valid values.</p></li>
<li><p>PerlMagick/Magick.xs: Update so that new DestroyImage assertions
aren't asserted.</p></li>
<li><p>magick/list.c (DestroyImageList): Update so that new DestroyImage
assertions aren't asserted.</p></li>
<li><p>coders/wpg.c (ReadWPGImage): Don't leave dangling pointer when
trimming list. Don't set image-&gt;depth to invalid values.</p></li>
</ul>
</blockquote>
<p>2003-03-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (DestroyImage): Add assertions to verify
that destroyed image is not currently referenced by another
image.  This should help prevent accidental continued use
of a destroyed image.
(DestroyImage): Added assertions to enforce that images
should not continue to reference the destroyed image.</p></li>
<li><p>coders/wpg.c: Incorporated fixes from Jaroslav Fojtik.</p></li>
<li><p>version.sh (PACKAGE_VERSION_ADDENDUM): Construct a package
snapshot version based on the ChangeLog modification time.
This requires GNU find to work propery since the -printf
option is used.</p></li>
<li><p>configure.ac (LIB_GS): Do not test for the Ghostscript
library by default due to the issue of its embedded libjpeg
conflicting with libjpeg.</p></li>
<li><p>coders/ept.c (ReadEPTImage): &quot;PostscriptDelegateFailed&quot; should
be classified as a DelegateError type.</p></li>
</ul>
</blockquote>
<p>2003-03-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/blob.c (BlobToFile): Truncate while opening file.
(ImageToFile): Truncate while opening file.</p></li>
<li><p>magick/annotate.c (RenderFreetype): Missing freetype library
should result in a MissingDelegateError type rather than a
DelegateError type.</p></li>
<li><p>INSTALL-windows.txt: Added a note regarding a workaround for
internal compiler errors while compiling image.c when using
Visual C++ 7.0.</p></li>
<li><p>coders/jpeg.c (ReadICCProfile): Incorporate ImageMagick fix
to handle short JPEG ICC profiles.</p></li>
<li><p>magick/integral_types.h: Ignore SIZEOF_LONG_LONG and
SIZEOF_UNSIGNED_LONG_LONG defines if _VISUALC_ is defined.</p></li>
</ul>
</blockquote>
<p>2003-03-11  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/gm.html, utilities/gm.1, guide/gm.tex: Expanded description
of the -affine option.</p></li>
</ul>
</blockquote>
<p>2003-03-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (GetImageDepth): Re-implemented using a single-pass
algorithm and 1/2 the code. Previous implementation didn't return
correct results for Q:32 build.  Now it does.</p></li>
<li><p>magick/command.c (IdentifyImageCommand): For identify, when
%q format specifier is present, image must be read rather than
pinged.  If not, either the value 8 is returned, or there is a
crash due to reading an uninitialized image.</p></li>
</ul>
</blockquote>
<p>2003-03-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/mat.c: Incorporate fixes from Jaroslav Fojtik.  Close
Blob before rotating image.</p></li>
<li><p>PerlMagick/README.txt: Update to reflect that PerlMagick is
part of GraphicsMagick.</p></li>
<li><p>PerlMagick/t/input.mat: Added test image for Matlab format.</p></li>
<li><p>PerlMagick/t/input.wpg: Added test image for WordPerfect Graphics Format.</p></li>
<li><p>utilities/Makefile.am (ALLMANPAGES): Install gm.1 rather than
old utility manual pages.</p></li>
</ul>
</blockquote>
<p>2003-03-09  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/gm.html, utilities/gm.1, guide/gm.tex: First cut at
manpage for gm, to replace individual utility manpages.</p></li>
</ul>
</blockquote>
<p>2003-03-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/blob.c: Fix some erroneous log printf specifications.
Improved blob log messages a bit.</p></li>
<li><p>magick/log.c (IsEventLogging): Use  InitializeLogInfo().
(InitializeLogInfo): New function to intelligently initialize
logging subsystem.  Only locks when initialization may be required,
and only locks long enough to determine if initialization is required.
This approach should avoid deadlocking while logging from functions
used to initialize logging.
(IsLogAccessible): No longer need this duplicate of IsAccessible().
(SetLogEventMask): Use  InitializeLogInfo().</p></li>
<li><p>coders/fpx.c (ReadFPXImage): FlashPIX library does not support
BLOB I/O so don't use OpenBlob/CloseBlob.  Opening the blob caused
a conflict when the FlashPIX library attempted to open the file.</p></li>
</ul>
</blockquote>
<p>2003-03-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>configure.ac: Test for libtiff functions (TIFFClientOpen &amp;
TIFFIsByteSwapped), which are required by GraphicsMagick, but
not found in older libtiff versions.</p></li>
<li><p>magick/blob.c: Added logging for Blob open/close and memory
mapping operations.</p></li>
</ul>
</blockquote>
<p>2003-03-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>tests/rwblob.c (main): DestroyImage asserts on NULL so only
call it for non-null image.</p></li>
<li><p>tests/rwfile.c (main): DestroyImage asserts on NULL so only
call it for non-null image.</p></li>
</ul>
</blockquote>
<p>2003-03-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>tests/rwblob.c (main): Add -pause option to require keypress to
exit program. Clean-up to avoid any appearance of leaks.</p></li>
<li><p>tests/rwfile.c (main): Add -pause option to require keypress to
exit program. Clean-up to avoid any appearance of leaks.</p></li>
<li><p>magick/static.c (ExecuteStaticModuleProcess): Don't bind in
process filter functions for Visual C++ since the build environment
doesn't support it yet.</p></li>
<li><p>magick/log.c (GetLogBlob) Code wasn't actually testing current
directory for log.mgk, now it does.</p></li>
<li><p>magick/log.c (IsEventLogging): Eliminate accidental recursive, or
repeated, initialization of the logging system.</p></li>
</ul>
</blockquote>
<p>2003-03-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jp2.c (WriteJP2Image): Improved -quality rate estimation
for very small files.</p></li>
</ul>
</blockquote>
<p>2003-03-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jp2.c (WriteJP2Image): Add additional logging support.</p></li>
<li><p>tests/rwblob.c: Added BLOB read/write logging.</p></li>
<li><p>tests/rwfile.c: Added file read/write logging.</p></li>
<li><p>magick/module.c (FindMagickModule): Minor code cleanup and limit
directory and file name lengths to sensible values.</p></li>
<li><p>magick/utility.c (IsAccessible): Log test failures along with
test failure reason [strerror(errno)]. Also log test success.</p></li>
<li><p>VisualMagick/bin/delegates.mgk: -DSAFER does not work with
Ghostscript 8.0.</p></li>
<li><p>magick/module.c: Needed to conditionally include nt_feature.h.</p></li>
</ul>
</blockquote>
<p>2003-03-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/module.c (ExecuteModuleProcess): Updated to support locating
filter modules based on search rules.
(CoderInfo): Declare only in module.c since use is private to this
module.
(GetCoderInfo): Made static and commented out since currently unused.
(FindMagickModule): New function to search for a module.
(GetModuleBlob): Moved from blob.c, made static, and re-implemented
based on FindMagickModule.</p></li>
<li><p>magick/blob.c: Moved GetTypeBlob() to type.c and made it static.
Moved GetModuleBlob() to module.c and made it static.</p></li>
</ul>
</blockquote>
<p>2003-03-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/Makefile.am: MIFF module does not depend on -ljpeg, but
PNG module does (for JNG).</p></li>
<li><p>filters/analyze.c (AnalyzeImage): Bugfix, image should be passed
as Image** rather than Image*.</p></li>
<li><p>magick/utility.c (IsAccessible): Don't log errno if errno==0.</p></li>
</ul>
</blockquote>
<p>2003-03-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/Makefile.am: Link with libFilters convenience library.</p></li>
<li><p>VisualMagick/magick/magick_config.h.in: Change MagickModulesPath
to MagickCoderModulesPath and add a MagickFilterModulesPath to
locate filter modules.</p></li>
<li><p>filters/Makefile.am: New makefile to build filter modules.</p></li>
<li><p>configure.ac: Configure magick/GraphicsMagick.pc and
Magick++/lib/GraphicsMagick++.pc.
(MagickModulesSubdir): Add quantum depth to modules path to ensure
that modules with the correct depth are loaded.  The modules path
is now
${libdir}/GraphicsMagick-${PACKAGE_VERSION}/modules-Q${QuantumDepth}/coders.
(MagickCoderModulesPath): Rename MagickModulesPath to
MagickCoderModulesPath.
(MagickFilterModulesPath): Define to location of filter modules.</p></li>
<li><p>magick/Makefile.am: Added rules to install GraphicsMagick.pc.</p></li>
<li><p>magick/GraphicsMagick.pc.in: Added pkgconfig file for
-lGraphicsMagick.</p></li>
</ul>
</blockquote>
<p>2003-02-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jp2.c (WriteJP2Image): Quality factor calculation had
accidentally been removed.  The calculation is back, but has been
biased up slightly so that a quality factor of 75 results in a
more reasonable 16:1 compression. Past a quality factor of 99.5,
the compression is set to 1:1 (non-lossy).</p></li>
</ul>
</blockquote>
<p>2003-02-27  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Fixed bug with reading interlaced PNG images, introduced
yesterday.</p></li>
<li><p>Fixed bug with skipping MNG subimages, also introduced
yesterday.</p></li>
</ul>
</blockquote>
<p>2003-02-27  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Makefile.am (EXTRA_DIST): Forgot to distribute version.sh</p></li>
<li><p>configure.ac: Use definitions from version.sh to drive
package versioning and naming. These definitions support
libtool's recommended approach to library versioning.</p></li>
<li><p>version.sh: New file for managing release versioning.
Edit this file to change the release number, etc.</p></li>
<li><p>PerlMagick/t/tiff/read.t: Added read tests for stripped,
planar contiguous, and planar seperated TIFFs.</p></li>
<li><p>coders/tiff.c (ReadTIFFImage): Transferred stripped-TIFF
reading code from ImageMagick.
Enumerated reading methods to make the logic more clear.</p></li>
</ul>
</blockquote>
<p>2003-02-27  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>JNG alpha sample depth was sometimes inconsistent.</p></li>
<li><p>Bring only one line at a time into memory during PNG
read/write (Merge with Cristy's 5.5.6 update).</p></li>
</ul>
</blockquote>
<p>2003-02-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/Makefile.PL.in (LIBS): Put MAGICKLIB first to
decrease the probability that the wrong libMagick is used
when linking static PerlMagick.</p></li>
<li><p>configure.ac (PerlMagick): Fix linker search path for
-lGraphicsMagick when linking a static PerlMagick.  It seems
that libtool changed the location where it places static
libraries.</p></li>
<li><p>PerlMagick/t/tiff/read.t: Added test for reading tiled TIFF.</p></li>
<li><p>coders/tiff.c (ReadTIFFImage): Add optimized support for
reading tiled TIFFs.
(ReadTIFFImage): Optimize loops for reading tiled TIFFs as well.
(ReadTIFFImage): Eliminate compiler warning.
(ReadTIFFImage): Add some missing error handling for tiled TIFF.</p></li>
</ul>
</blockquote>
<p>2003-02-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/tiff.c (ReadTIFFImage): Optimize RGBA transfer loop.</p></li>
</ul>
</blockquote>
<p>2003-02-24  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/render.c (DrawPrimitive): Return DrawPolygonPrimitive
status (edit transferred from ImageMagick).</p></li>
<li><p>magick/utility.c (GetMagickGeometry): Scaling to an area now
preserves the image aspect ratio.</p></li>
</ul>
</blockquote>
<p>2003-02-24  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>png.c: Added missing parentheses in typecast (cristy noticed
the bug that I introduced on 2/18).</p></li>
</ul>
</blockquote>
<p>2003-02-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Makefile.am: Add rules to produce www/README.html,
www/INSTALL-mac.html, www/INSTALL-unix.html, www/INSTALL-vms.html,
and www/INSTALL-windows.html</p></li>
<li><p>www/README.html: New file produced from README.txt</p></li>
<li><p>www/INSTALL-mac.html: New file produced from INSTALL-mac.txt.</p></li>
<li><p>www/INSTALL-unix.html: New file produced from INSTALL-unix.txt.</p></li>
<li><p>www/INSTALL-vms.html: New file produced from INSTALL-vms.txt.</p></li>
<li><p>www/INSTALL-windows.html: New file produced from INSTALL-windows.txt.</p></li>
<li><p>NEWS: Added news for GraphicsMagick 1.0.0.</p></li>
<li><p>magick/locale.c: Added error messages to support JP2.</p></li>
<li><p>locale/C.mgk: Added error messages to support JP2.</p></li>
<li><p>locale/locale.mgk: Update to GraphicsMagick copyright.</p></li>
<li><p>coders/jp2.c: Updated to use Jasper 1.700.1 interface
conventions. Jasper 1.700.1 is required now. Support
reading arbitrary quantum sizes up to 16-bits.  Return
grayscale images as PseudoClass.</p></li>
<li><p>jp2/: Updated Jasper sources to version 1.700.1.</p></li>
</ul>
</blockquote>
<p>2003-02-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jp2.c (ReadJP2Image): Obtain channel indexes by
ID rather than assuming index value.  Validate that channel
geometry and encoding is supported.</p></li>
<li><p>magick/effect.c (ThresholdImage): Additional performance
optimization. Work faster if image is already gray.</p></li>
</ul>
</blockquote>
<p>2003-02-21  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jp2.c (WriteJP2Image): Port to Jasper 1.7.
For Q:32, don't write 32-bit pixels rather than the
16-bit pixels we told Jasper we would write.
(WriteJP2Image): Back-port to Jasper 1.6.</p></li>
</ul>
</blockquote>
<p>2003-02-18  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/modules.mgk: Added JNG entry.</p></li>
</ul>
</blockquote>
<p>2003-02-19  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/jp2.c (RegisterJP2Image): Added registration for
&quot;PGX&quot; magick tag.</p></li>
<li><p>magick/magic.mgk: Added entry for JPEG V2's PGX format.</p></li>
<li><p>PerlMagick/t/jp2/read.t: Added JPEG Version 2 read tests.</p></li>
<li><p>coders/modules.mgk: Added JPC and PGX magick types to
support JPEG V2.</p></li>
<li><p>magick/color.c (IsMonochromeImage): Re-arranged test logic
to short-circuit test using ORs.
(IsGrayImage): Re-arranged test logic to short-circuit test
using ORs.</p></li>
<li><p>magick/constitute.c (PopImagePixels): Speed GrayQuantum
and GrayAlphaQuantum cases if is_grayscale is True.</p></li>
<li><p>magick/quantize.c (AssignImageColors): Sync image to
update DirectClass pixels to new colormap.</p></li>
<li><p>coders/fpx.c (RegisterFPXImage): FlashPIX does not
provide direct BLOB I/O support.</p></li>
<li><p>magick/blob.c (BlobToImage): Add logging.
(BlobToFile): Add logging.</p></li>
</ul>
</blockquote>
<p>2003-02-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/fpx.c (ReadFPXImage): Removing the input file is
antisocial.</p></li>
<li><p>PerlMagick/t/fpx/*.fpx: Replaced with new copies.  Files
seemed to be corrupt.</p></li>
<li><p>PerlMagick/t/cgm/read.t: Specify file magick so that CGM
read test passes for BLOB case.</p></li>
<li><p>PerlMagick/t/rad/read.t: Specify file magick so that RAD
read test passes for BLOB case.</p></li>
<li><p>PerlMagick/t/jng/read.t: Add read tests for JNG.</p></li>
<li><p>PerlMagick/t/jng/write.t: Add read/write tests for JNG.</p></li>
<li><p>configure.ac (DELEGATES): Added <cite>jng</cite> to the DELEGATES list
so that JNG can be included in the PerlMagick tests.</p></li>
</ul>
</blockquote>
<p>2003-02-18  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/png.c: Write proper JNG image_interlace_method.</p></li>
<li><p>coders/png.c: Read and write proper MNG and JNG sRGB intent.</p></li>
<li><p>PerlMagick/t/jng: Add twelve test files in JNG format.</p></li>
<li><p>coders/png.c: Write proper progressive JNG output when
transparency is present.</p></li>
</ul>
</blockquote>
<p>2003-02-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/version.c (GetMagickWebSite): New function.</p></li>
</ul>
</blockquote>
<p>2003-02-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/wmf.c (ipa_device_begin): Use MagickWebSite definition.</p></li>
<li><p>www/Copyright.html: Updated to match Copyright.txt</p></li>
<li><p>www/perl: Updated to reflect GraphicsMagick vs ImageMagick.</p></li>
<li><p>magick/xwindow.c (XMakeImageMSBFirst): Minor loop optimizations.</p></li>
<li><p>magick/constitute.c (ConstituteImage): Check for grayscale
and monochrome image if image is PseudoClass.</p></li>
</ul>
</blockquote>
<p>2003-02-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/enhance.c (ContrastImage): Preserve is_grayscale flag.
(EqualizeImage): Preserve is_grayscale flag.
(ModulateImage): Preserve is_grayscale flag.
(NegateImage): Preserve is_grayscale flag.
(NormalizeImage): Preserve is_grayscale flag.</p></li>
<li><p>magick/fx.c (ColorizeImage): Evaluate is_grayscale status.
(ConvolveImage): Preserve is_grayscale flag.
(ImplodeImage): Preserve is_grayscale flag.
(SolarizeImage): Preserve is_grayscale flag.
(OilPaintImage): Preserve is_grayscale flag.
(SwirlImage): Preserve is_grayscale flag.
(WaveImage): Preserve is_grayscale flag.</p></li>
<li><p>magick/resize.c (MagnifyImage): Preserve is_grayscale flag.
(MinifyImage): Preserve is_grayscale flag.
(ResizeImage): Preserve is_grayscale flag.</p></li>
<li><p>magick/decorate.c (FrameImage): Evaluate is_grayscale status.
(RaiseImage): Preserve is_grayscale.</p></li>
<li><p>magick/shear.c (IntegralRotateImage): Preserve is_grayscale.
flag.
(XShearImage): Evaluate is_grayscale status.
(YShearImage): Evaluate is_grayscale status.</p></li>
<li><p>magick/transform.c (ChopImage): Preserve is_grayscale flag.
(CropImage): Preserve is_grayscale flag.
(FlipImage): Preserve is_grayscale flag.
(FlopImage): Preserve is_grayscale flag.
(RollImage): Preserve is_grayscale flag.</p></li>
<li><p>magick/effect.c (AddNoiseImage): If image colorspace is
GRAYColorspace, then add intensity noise, and transfer
image is_grayscale flag to output image.
(BlurImage): Preserve is_grayscale flag.
(DespeckleImage): Preserve is_grayscale flag.
(EdgeImage): Preserve is_grayscale flag.
(EmbossImage): Preserve is_grayscale flag.
(GaussianBlurImage): Preserve is_grayscale flag.
(MotionBlurImage): Preserve is_grayscale flag.
(ShadeImage): Preserve is_grayscale flag.
(SharpenImage): Preserve is_grayscale flag.
(UnsharpMaskImage): Preserve is_grayscale flag.</p></li>
<li><p>magick/quantize.c (QuantizeImage): Pre-reduce gray images
to PseudoClass in order to quickly determine the number of
colors, and provide the expected PseudoClass output. Also
skip slow color quantization if there are already fewer
colors than requested.</p></li>
<li><p>magick/image.c (GrayscalePseudoClassImage): New function
to quickly reduce an image to PseudoClass grayscale.  This
is a fast way to determine the number of intensities in a
grayscale image. Either a compact sorted colormap or a faster,
contiguous linear colormap is created, depending on the
optimize_colormap flag. If the image is already PseudoClass,
and the optimize_colormap flag is True, then the existing
colormap is sorted and reduced.
(SyncImage): Preserve is_grayscale flag.
(ChannelImage): Result is grayscale.
(CycleColormapImage): Preserve is_grayscale and is_monochrome flags.
(SetImage): Evaluate is_grayscale flag.
(SetImageDepth): Preserve is_grayscale flag.
(SetImageOpacity): Preserve is_grayscale flag.
(SortColormapByIntensity): Preserve is_grayscale flag.
(TransformRGBImage): Evaluate is_grayscale flag.</p></li>
</ul>
</blockquote>
<p>2003-02-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/resize.c (SampleImage): Preserve grayscale and
monochrome flags.</p></li>
<li><p>magick/quantize.c (AssignImageColors): Set image monochrome
flag to True when quantizing to two colors in GrayColorspace.</p></li>
<li><p>magick/effect.c (SpreadImage): Preserve grayscale and
monochrome flags.
(AdaptiveThresholdImage): Short-circuit algorithm if image
flags indicate it is already monochrome. Set monochrome and
grayscale flags once algorithm completes.
(ThresholdImage): Short-circuit algorithm if image
flags indicate it is already monochrome. Set monochrome and
grayscale flags once algorithm completes.
(ChannelThresholdImage): Short-circuit algorithm if image
flags indicate it is already monochrome. Set monochrome and
grayscale flags once algorithm completes.
(ShadeImage): If grayscale shading is done, then set image
grayscale flag to True.</p></li>
<li><p>magick/color.c (IsGrayImage): If the image is_grayscale
flag is True, then short-circuit the test. Update the flag
if the test is performed.
(IsMonochromeImage): If the image is_monochrome flag is True
then short-circuit the test. Update the flag if the test is
performed.</p></li>
<li><p>magick/image.c (CloneImage): Copy image is_grayscale and
is_monochrome members.</p></li>
<li><p>magick/cache.c (SyncCacheNexus): If image pixels are updated
then set image is_grayscale and is_monochrome members to False.
Algorithms which want to preserve the values of these members
should save their original values before processing the image
and restore them when processing is complete, or transfer them
from the input image to the output image.</p></li>
<li><p>magick/constitute.c (ReadImage): If the returned image is
PseudoClass then invoke IsGrayImage() and IsMonochromeImage()
and cache the result in image is_grayscale and is_monochrome
members for later use.</p></li>
<li><p>magick/image.h (Image): Added is_grayscale and is_monochrome
members to remember if image is grayscale or monochrome.</p></li>
</ul>
</blockquote>
<p>2003-02-14  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/archives.html: commented out sites not mirroring GM yet.
Changed &quot;ftp.simplesystems.org&quot; to &quot;ftp.graphicsmagick.org&quot;.
Added link to graphicsmagick.sf.net.</p></li>
</ul>
</blockquote>
<p>2003-02-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/utility.c (FormatString): Check for the availability of
vsprintf.</p></li>
<li><p>magick/log.c (LogMagickEvent): Check for the availability of
vsprintf.</p></li>
<li><p>configure.ac: Test for vsprintf.</p></li>
</ul>
</blockquote>
<p>2003-02-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/annotate.c (RenderFreetype): Used smarter code to prepare
the beta argument for AlphaComposite.</p></li>
</ul>
</blockquote>
<p>2003-02-12  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/logo.c: updated logo.c to produce the GraphicsMagick logo.</p></li>
</ul>
</blockquote>
<p>2003-02-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>INSTALL-unix.txt: Document that default quantum depth is now 8.</p></li>
<li><p>VisualMagick/magick/magick_config.h.in: Default quantum depth is now 8.</p></li>
<li><p>configure.ac: Default quantum depth is now 8.</p></li>
<li><p>tests/Makefile.am: Test format types that require a size
seperately since always specifying the size caused some formats
(e.g. PCD) to improperly fail.</p></li>
</ul>
</blockquote>
<p>2003-02-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/NEWS.html: New HTML file for project news.</p></li>
<li><p>scripts/txt2html: New script for formatting text into HTML.</p></li>
<li><p>Makefile.am: Automated the generation of www/Changelog.html and
www/NEWS.html.</p></li>
<li><p>coders/xpm.c (WritePICONImage): Close blob using correct image.</p></li>
<li><p>tests/Makefile.am (CHECK_SIZED_FILES): Added files to tests
subdirectory so that tests don't need to use files from
PerlMagick.</p></li>
<li><p>magick/image.c (TransformColorspace): New function to
simplify/centralize colorspace transform requests.  Replaced calls
to RGBTransformImage and TransformRGBImage throughout the code
with calls to TransformColorspace.</p></li>
<li><p>IMDisplay: Disable save function since it is not implemented yet.</p></li>
</ul>
</blockquote>
<p>2003-02-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/Magick.xs (SetAttribute): Support changing back to
RGB or Transparent colorspace.</p></li>
</ul>
</blockquote>
<p>2003-02-10  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Brought MNG handling of final delay into compliance with MNG spec.</p></li>
</ul>
</blockquote>
<p>2003-02-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/bmp.c (WriteBMPImage): Added support for
bits_per_pixel==4.
(WriteBMPImage): Convert PseudoClass images with more than 256
colors to DirectClass.
(WriteBMPImage): Do not require 2-color images to pass the
IsMonochromeImage() test before writing them as one-bit-per-pixel
BMPs.  Decided to allow this after four readers (including Windows
XP) displayed the image using the proper colormap.
(WriteBMPImage): BMP2 encoder was writing colormap using wrong format.</p></li>
<li><p>images: Updated logo images to GraphicsMagick</p></li>
<li><p>Added PDF Sages to web page as a sponsor.</p></li>
</ul>
</blockquote>
<p>2003-02-08  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>www/GraphicsMagick.html: add &quot;gm &quot; prefix to examples.</p></li>
</ul>
</blockquote>
<p>2003-02-07  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>index.html: Update to distinguish between ImageMagick and
GraphicsMagick, and to explain &quot;gm&quot; prefix of commandline utilities.</p></li>
</ul>
</blockquote>
<p>2003-02-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/nt_feature.c (CropImageToHBITMAP): Remove useless
autocrop support which was transferred from CropImage when
creating CropImageToHBITMAP.</p></li>
</ul>
</blockquote>
<p>2003-02-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/miff.c (ReadMIFFImage): RLE packet size was not
calculated correctly, causing RLE-compressed MIFF images with
depth&gt;8 to not be read.</p></li>
</ul>
</blockquote>
<p>2003-02-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/paint.c (ColorFloodfillImage): Transfered fix from
ImageMagick for the problem that floodfill using a tiled image
failed if the target color happened to match the current fill
color.</p></li>
</ul>
</blockquote>
<p>2003-02-02  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/command.c: Fixed preview error message.</p></li>
<li><p>coders/preview.c: Previous update had broken noiseimage demo.
Also some cleanups.</p></li>
<li><p>magick/display.c (XMagickCommand): No longer uses
MogrifyImage.</p></li>
<li><p>coders/preview.c (WritePreviewImage): Re-wrote so that
MogrifyImage is no longer used. Resize image outside of the loop
to improve performance.</p></li>
</ul>
</blockquote>
<p>2003-02-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/effect.c (ShadeImage): Use PixelIntensityToDouble macro.</p></li>
<li><p>magick/image.h (PixelIntensityToDouble): Added
PixelIntensityToDouble macro to handle the case where pixel
intensity is used for floating arithmetic.</p></li>
</ul>
</blockquote>
<p>2003-01-30  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Makefile.am: Distribute files ChangeLog, INSTALL-mac.txt,
INSTALL-unix.txt, INSTALL-vms.txt INSTALL-windows.txt, and NEWS.</p></li>
</ul>
</blockquote>
<p>2003-01-29  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/svg.c (SVGStartElement): Applied fix from ImageMagick to
compute SVG +&gt; MVG viewbox correctly.</p></li>
<li><p>magick/image.c (CloneImage): Applied fix from ImageMagick which
is purported to solve the problem that &quot;negative (x,y) page offsets
did not clone properly&quot;.</p></li>
<li><p>magick/gem.c (TransformHWB): Replace implementation with
ImageMagick's new version which is supposed to fix a rounding
error problem.  Hard to say since implementation is totally
different.</p></li>
<li><p>coders/msl.c (MSLStartElement): Applied fix for missing break
from ImageMagick.</p></li>
<li><p>magick/integral_types.h: New header to include the integral
types typedefs.  Needed new header in order to include in both
studio.h and api.h at the right point.</p></li>
<li><p>magick/studio.h: Move nt_feature.h inclusion to the few modules
which actually use functions from it.</p></li>
<li><p>magick/api.h: Added typedefs gm_int16_t, gm_uint16_t,
gm_int32_t, gm_uint32_t, gm_int64_t, gm_uint64_t to support
specifically sized types.</p></li>
<li><p>configure.ac: Test for size of <cite>short</cite>, <cite>unsigned short</cite>, <cite>int</cite>,
<cite>unsigned int</cite>, <cite>long</cite>, <cite>unsigned long</cite>, <cite>long long</cite>, <cite>unsigned
long long</cite> assigning the result to the defines SIZEOF_SHORT,
SIZEOF_UNSIGNED_SHORT, SIZEOF_INT, SIZEOF_UNSIGNED_INT,
SIZEOF_LONG, SIZEOF_UNSIGNED_LONG, SIZEOF_LONG_LONG, and
SIZEOF_UNSIGNED_LONG_LONG respectively.</p></li>
</ul>
</blockquote>
<p>2003-01-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/fx.c (OilPaintImage): Compute histogram using 8-bit quantums
for more sensible performance with Q:16 and Q:32 builds.</p></li>
<li><p>magick/image.h (PixelIntensityToQuantum): Compute using integral
arithmetic for Q:8 and Q:16.  Much faster than floating point!
(PixelIntensity): Compute using integral arithmetic for Q:8 and
Q:16. Much faster than floating point!</p></li>
</ul>
</blockquote>
<p>2003-01-28  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Fixed bug in png.c, introduced in IM-5.5.1.  A pair of
{ } brackets were omitted when logging was added, which lets
old versions of libpng write a zero-length iCCP chunk.</p></li>
</ul>
</blockquote>
<p>2003-01-27  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/effect.c (DespeckleImage): Put loops inside of case
statement rather than outside.
(SpreadImage): Improved algorithm so that -spread is 12X faster.</p></li>
<li><p>magick/nt_feature.c (CropImageToHBITMAP): New function to return
a region of the image as a HBITMAP.</p></li>
</ul>
</blockquote>
<p>2003-01-26  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Fixed Copyright statement on all source files.</p></li>
<li><p>magick/effect.c (ThresholdImage): Optimized loop.</p></li>
<li><p>coders/tiff.c (ReadTIFFImage): Read bits more efficiently for
bits_per_sample=1.</p></li>
<li><p>magick/command.c (MogrifyImage): Set image-&gt;dither to
image_info-&gt;dither prior to invoking SetImageType.</p></li>
<li><p>magick/constitute.c (WriteImage): Set image-&gt;dither to
image_info-&gt;dither.</p></li>
<li><p>magick/image.c (SetImageType): For case BilevelType, normalize
image, and threshold 50% if dithering is disabled.  This is at
least 10X faster than quantizing with dither.
(AllocateImage): Initialize image-&gt;dither.
(CloneImage): Copy image-&gt;dither.</p></li>
<li><p>magick/image.h: Added dither member to Image.</p></li>
</ul>
</blockquote>
<p>2003-01-24  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>PerlMagick/t/tiff/read.t: Added a test for reading 16-bit TIFF
images.</p></li>
<li><p>coders/tiff.c (ReadTIFFImage): Support reading 16-bit TIFF images
with a Q:8 build.</p></li>
<li><p>magick/color.c (ConstrainColormapIndex): Use VerifyColormapIndex.</p></li>
<li><p>coders/pnm.c (ReadPNMImage): Use VerifyColormapIndex.</p></li>
<li><p>coders/gif.c (DecodeImage): Use VerifyColormapIndex.</p></li>
<li><p>magick/image.c (SyncImage): Use VerifyColormapIndex.</p></li>
</ul>
</blockquote>
<p>2003-01-23  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/blob.c (ReadBlobByte): Use getc when reading from FILE stream.</p></li>
<li><p>configure.ac: Added tests for getc_unlocked and putc_unlocked.</p></li>
<li><p>magick/blob.c (ReadBlobByte): Optimized reading from BlobStream.
(ReadBlobLSBLong): Optimized reading from BlobStream.
(ReadBlobLSBShort): Optimized reading from BlobStream.
(ReadBlobMSBLong): Optimized reading from BlobStream.
(ReadBlobMSBShort): Optimized reading from BlobStream.
(ReadBlobStream): New static inline function to read from BlobStream.
(WriteBlob): &quot;Manually&quot; copy data rather than using memcpy() for
very small copy sizes.
(WriteBlobByte): Use putc() when writing to a FILE stream.</p></li>
</ul>
</blockquote>
<p>2003-01-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/gem.c (Hull): Count down loops.  Might help.
(InterpolateColor): Pre-compute common sub-expressions to improve
performance.</p></li>
<li><p>magick/segment.c (Classify): Implemented idea from Glenn
Randers-Pehrson to avoid use of pow() when WeightingExponent is
2.0 (which it is).  This makes image segmentation much faster
(e.g. 8X).</p></li>
<li><p>magick/annotate.c (RenderFreetype): For images with
matte==False, simply set the opacity of the pixel to be updated to
OpaqueOpacity before alpha-compositing the pixel rather than using
SetImageType(TrueColorMatteType) to initialize the opacity of the
entire image.  This is much faster and scales to large images.</p></li>
<li><p>magick/image.c (SetImageType): Eliminated unnecessary conditionals.</p></li>
</ul>
</blockquote>
<p>2003-01-21  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/effect.c (InsertMedianList): Assign computed quantum
indexes to variables to avoid extra computations for
QuantumDepth&gt;8.</p></li>
<li><p>magick/composite.c (AlphaComposite): Pre-compute common
expressions in order to improve performance.</p></li>
<li><p>magick/fx.c (ConvolveImage): Optimized loops.</p></li>
<li><p>magick/paint.c (TransparentImage): Optimize for case fuzz == 0.</p></li>
<li><p>magick/color.c (FuzzyColorMatch): Minor cleanup and optimization.</p></li>
<li><p>magick/locale.c: Added error messages for convolve option.</p></li>
<li><p>coders/locale.c: Picked up recent changes from ImageMagick version.</p></li>
<li><p>locale/C.mgk: Added error messages for convolve option.</p></li>
<li><p>magick/command.c (MogrifyImage): Added support for convolve option.</p></li>
<li><p>coders/xcf.c (ReadXCFImage): Recognize latest GIMP XCF header.</p></li>
<li><p>coders/dcm.c: Transferred the apparent salient fixes from
ImageMagick for a bug described as &quot;Some DCM grayscale images did
not display correctly.&quot;.</p></li>
<li><p>coders/miff.c (ReadMIFFImage): Reading RLE-compressed MIFFs is
now about 4X faster.</p></li>
<li><p>magick/blob.c (OpenBlob): Use setvbuf() to increase stdio buffer
size to 16K.  Solaris default is 1K.  This should minimize system
call overhead for accessing large files.
(ReadBlob): &quot;Manually&quot; copy data rather than using memcpy() for
very small copy sizes.
(ReadBlobZC): New method, similar to ReadBlob, but provides the
opportunity for zero copy on read.</p></li>
<li><p>magick/constitute.c (PushImagePixels): CMYKA case for
image-&gt;depth=16 was comparing with 8 instead.</p></li>
</ul>
</blockquote>
<p>2003-01-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/utility.c (GetMagickGeometry): Removed support for <cite>~</cite>
and disabled centering code until we learn where it should go (if
anywhere).</p></li>
<li><p>magick/command.c : Add HWB colorspace transform support.</p></li>
<li><p>PerlMagick/Magick.xs: Add HWB colorspace transform support.</p></li>
<li><p>magick/image.c (RGBTransformImage): Add HWB colorspace transform
support.
(TransformRGBImage): Add HWB colorspace transform support.</p></li>
</ul>
</blockquote>
<p>2003-01-17  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/utility.c (GetMagickGeometry): Add support for new new
<cite>~</cite> geometry string flag.  This also fixes a montage bug in which
thumbnails were mis-sized if the geometry specification incuded x
or y offsets.</p></li>
<li><p>magick/image.h (GeometryFlags): Added CenterValue enumeration to
correspond with new <cite>~</cite> geometry string flag.  Taking
ImageMagick's lead on this.</p></li>
<li><p>magick/render.c: Transferred fixes from ImageMagick for an
artifact which occured at the 360 degree point when rendering
circles, ellipses, and arcs.  Bug reported by <a class="reference external" href="mailto:io219&#37;&#52;&#48;attbi&#46;com">io219<span>&#64;</span>attbi<span>&#46;</span>com</a>.</p></li>
<li><p>PerlMagick/Magick.xs: Add HSL colorspace transform support.</p></li>
<li><p>magick/command.c: Add HSL colorspace transform support.</p></li>
<li><p>magick/image.c (RGBTransformImage): Add HSL colorspace transform
support.
(TransformRGBImage): Add HSL colorspace transform support.</p></li>
</ul>
</blockquote>
<p>2003-01-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Updated copyright statement on source files to reflect
the GraphicsMagick Group rather than ImageMagick Studio.</p></li>
<li><p>magick/constitute.c (ConstituteImage): Simplified the switch
statement for inner loops by creating a simplified map in advance.
(DispatchImage): Simplified the switch statement for inner loops
by creating a simplified map in advance.</p></li>
<li><p>magick/compress.c (HuffmanEncodeImage): Test and cache the
return value of LocaleCompare(image_info-&gt;magick,&quot;FAX&quot;) so that
LocaleCompare is not executed repeatedly in the output loop.</p></li>
<li><p>magick/color.c (IsGrayImage): Optimized loops.
(IsMonochromeImage): Optimized loops.
(IsOpaqueImage): Optimized loop.</p></li>
<li><p>magick/delegate.c (InvokePostscriptDelegate): When using the
Ghostscript library, identify the library as &quot;[ghostscript library]&quot;
rather then &quot;gsdll32&quot; so that -verbose prints something useful for
both Windows and Unix.</p></li>
</ul>
</blockquote>
<p>2003-01-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>NEWS: New file.</p></li>
<li><p>magick/montage.c (MontageImages): Use ThumbnailImage() rather
than ZoomImage() to resize montage thumbnails provided that the
user has not specified an image filter, and the montage thumbnail
is smaller than the image. This should provide faster montages
for large images.</p></li>
<li><p>magick/resize.c (ResizeImage): Added logging support.
(MagnifyImage): Added logging support.
(MinifyImage): Added logging support.
(SampleImage): Added logging support.
(ScaleImage): Added logging support.</p></li>
</ul>
</blockquote>
<p>2003-01-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/transform.c (ProfileImage): Duplicate ImageMagick changes
to image colorspace handling.  Avoids using
SetImageType(image,ColorSeparationMatteType).</p></li>
<li><p>magick/fx.c (OilPaintImage): Replaced with ImageMagick version
since ImageMagick version has been updated to not penalize Q:8.
Optimized loops.</p></li>
<li><p>magick/display.c (XDisplayImage): Display to 100% of
the screen size rather than 90% of the screen size.</p></li>
<li><p>magick/enhance.c (ModulateImage): Ensure that arguments
are always positive values.  Optimized loops.
(ContrastImage): Optimized loops.</p></li>
<li><p>magick/gem.c (HSLTransform): Optimized performance by
eliminating redundant intermediate calculations. This
makes <cite>gm convert -contrast</cite> 21% faster.
(HSLTransform): Set to inline within the gem.c module.
(TransformHSL): Set to inline within the gem.c module.
(Contrast): Moved to bottom of gem.c module so HSLTransform
and TransformHSL can be inlined. Simplified conditionals.
(Modulate): Moved to bottom of gem.c module so HSLTransform
and TransformHSL can be inlined. No longer check/correct
negative values.</p></li>
</ul>
</blockquote>
<p>2003-01-14 William Radcliffe &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/blob.c</p></li>
<li><p>magick/blob.h
Added new stream type flag and support to match with the one
added to ImageMagick.</p></li>
</ul>
</blockquote>
<p>2003-01-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c (RGBTransformImage): Fixed bug (thanks to
Bill for finding it) and finished optimizing XYZ table
creation.
(AverageImages): Optimized loops.
(ChannelImage): Optimized loops.  3X speed-up for SPARC.</p></li>
<li><p>magick/enhance.c: Optimized NegateImage().</p></li>
</ul>
</blockquote>
<p>2003-01-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>Set some common API structures to 0xbf prior to deallocation
to make accidental continued use more obvious.</p></li>
</ul>
</blockquote>
<p>2003-01-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/constitute.c: Minor optimizations to PopImagePixels()</p></li>
<li><p>coders/dpx.c: Reading the DPX header was off by 4 bytes.</p></li>
<li><p>coders/(art.c,avs.c,bmp.c,cmyk.c,dcm.c,dib.c,dpx.c,fax.c,
fits.c,gray.c,icon.c,map.c,miff.c,mono.c,mpc.c,mtv.c,otb.c,
pcx.c,pdb.c,pict.c,pix.c,pnm.c,pwp.c,rgb.c,rla.c,rle.c,sct.c,
sgi.c,sun.c,tga.c,tim.c,uyvy.c,vicar.c,viff.c,wbmp.c,xwd.c,
yuv.c): Ensure that blob is closed on unexpected EOF.</p></li>
<li><p>magick/image.c: Optimized SetImageOpacity().
Optimized SetImage() for intializing non-opaque images.  The
opacity channel was being intialized twice.</p></li>
</ul>
</blockquote>
<p>2003-01-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/constitute.c: Log entry and exit from coders so that
coders don't need to.</p></li>
<li><p>Finished re-writing PushImagePixels() using coding practices
which may result in faster code.</p></li>
<li><p>PerlMagick is changed from Image::Magick to Graphics::Magick
in order to avoid conflicts with the ImageMagick version.  This
means that any Perl scripts based on the ImageMagick version need
to do a global replace of Image::Magick to Graphics::Magick.</p></li>
<li><p>PerlMagick/reference/filter/Raise.miff: Replaced with new version.</p></li>
</ul>
</blockquote>
<p>2003-01-08 William Radcliffe &lt;<a class="reference external" href="mailto:billr&#37;&#52;&#48;corbis&#46;com">billr<span>&#64;</span>corbis<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/nt_feature.c
Make ImageToHBITMAP function in nt_feature.c compile under Visual
C++ again.</p></li>
</ul>
</blockquote>
<p>2003-01-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>coders/delegates.mgk.in: Fix cgm entry.  How did it become so
terribly broken?</p></li>
<li><p>coders/dps.c: Adding logging support.</p></li>
<li><p>PerlMagick/t/read.t: Changed file read tests to use image
compares with a reference image rather than comparing with a
signature.</p></li>
<li><p>PerlMagick/t/wmf/read.t: Ditto.
magick/shear.c: Fixed documentation for RotateImage.</p></li>
</ul>
</blockquote>
<p>2003-01-08  Glenn Randers-Pehrson &lt;<a class="reference external" href="mailto:randeg&#37;&#52;&#48;alum&#46;rpi&#46;edu">randeg<span>&#64;</span>alum<span>&#46;</span>rpi<span>&#46;</span>edu</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/magick.c, magick/magick.h: Add &quot;note&quot; member of magick_info.</p></li>
<li><p>coders/art.c, coders/fax.c, coders/dcm.c, coders/png.c: add notes
to format registrations.</p></li>
<li><p>fx.c: changed default &quot;colorize&quot; behaviour to preserve image opacity.</p></li>
</ul>
</blockquote>
<p>2003-01-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/svg.c: Allow the user to specify the initial background
color via the -background option.  This is only useful if the SVG
doesn't draw its own background rectangle.</p></li>
</ul>
</blockquote>
<p>2003-01-06  Albert Chin-A-Young  &lt;<a class="reference external" href="mailto:china&#37;&#52;&#48;thewrittenword&#46;com">china<span>&#64;</span>thewrittenword<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>ltdl/Makefile.am, ltdl/ltdl.c: Fix compilation problem
under Tru64 UNIX 5.1.  The GraphicsMagick random.h was being
included when the system random.h was needed.</p></li>
<li><p>configure.ac: Improve robustness of POSIX thread API tests
by including pthread.h when building the test program.</p></li>
</ul>
</blockquote>
<p>2003-01-06  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/image.c: In IsImagesEqual() only use type <cite>long double</cite>
for error summation if QuantumDepth &gt; 16 and <cite>long double</cite> has
more range than <cite>double</cite>.</p></li>
<li><p>magick/quantize.c: In QuantizeImage() only use type <cite>long
double</cite> for error summation if QuantumDepth &gt; 16 and <cite>long
double</cite> has more range than <cite>double</cite>.</p></li>
<li><p>Replaced redundant code with macros.</p></li>
<li><p>Optimize mapping to monochrome.</p></li>
<li><p>utilities/conjure.c: Had missed removing this file earlier.</p></li>
</ul>
</blockquote>
<p>2003-01-04  Derry Bryson  &lt;<a class="reference external" href="mailto:dbryson&#37;&#52;&#48;techass&#46;com">dbryson<span>&#64;</span>techass<span>&#46;</span>com</a>&gt;</p>
<blockquote>
<ul class="simple">
<li><p>magick/decorate.c: Use the ShadowFactor rather than ShadowModule
define in RaiseImage() (bug-fix).</p></li>
</ul>
</blockquote>
</main>


<hr class="docutils">
<div class="document">
    <p><a href="Copyright.html">Copyright</a> © GraphicsMagick Group 2002 - 2024<!--SPONSOR_LOGO--></p>
</div>

</main>
</body>
</html>
